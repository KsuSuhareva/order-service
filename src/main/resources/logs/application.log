2024-11-23T12:02:03.291+03:00  INFO 10272 --- [main] c.s.o.controller.OrderControllerTest     : Starting OrderControllerTest using Java 17.0.13 with PID 10272 (started by ksuhareva in E:\TEST-TASK\order-sevice\order-sevice)
2024-11-23T12:02:03.304+03:00  INFO 10272 --- [main] c.s.o.controller.OrderControllerTest     : The following 1 profile is active: "test"
2024-11-23T12:02:04.764+03:00  INFO 10272 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2024-11-23T12:02:04.776+03:00  INFO 10272 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-11-23T12:02:04.777+03:00  INFO 10272 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-11-23T12:02:04.851+03:00  INFO 10272 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-11-23T12:02:04.852+03:00  INFO 10272 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1531 ms
2024-11-23T12:02:04.884+03:00  INFO 10272 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-11-23T12:02:05.115+03:00  INFO 10272 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2024-11-23T12:02:05.117+03:00  INFO 10272 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-11-23T12:02:05.132+03:00  INFO 10272 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2024-11-23T12:02:05.562+03:00  INFO 10272 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-11-23T12:02:06.089+03:00  INFO 10272 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-11-23T12:02:06.207+03:00  INFO 10272 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-11-23T12:02:06.290+03:00  INFO 10272 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-11-23T12:02:06.292+03:00  INFO 10272 --- [main] liquibase.command                        : Using deploymentId: 2352526291
2024-11-23T12:02:06.294+03:00  INFO 10272 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-11-23T12:02:06.331+03:00  INFO 10272 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/create_order_table.xml::Create table orders::suhareva
2024-11-23T12:02:06.344+03:00  INFO 10272 --- [main] liquibase.changelog                      : Table ORDERS created
2024-11-23T12:02:06.345+03:00  INFO 10272 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create_order_table.xml::Create table orders::suhareva ran successfully in 12ms
2024-11-23T12:02:06.352+03:00  INFO 10272 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/create_product_table.xml::Create table products::suhareva
2024-11-23T12:02:06.355+03:00  INFO 10272 --- [main] liquibase.changelog                      : Table PRODUCTS created
2024-11-23T12:02:06.356+03:00  INFO 10272 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create_product_table.xml::Create table products::suhareva ran successfully in 4ms
2024-11-23T12:02:06.363+03:00  INFO 10272 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/insert_into_order.xml::insert orders into orders table::suhareva
2024-11-23T12:02:06.365+03:00  INFO 10272 --- [main] liquibase.changelog                      : New row inserted into ORDERS
2024-11-23T12:02:06.368+03:00  INFO 10272 --- [main] liquibase.changelog                      : New row inserted into ORDERS
2024-11-23T12:02:06.368+03:00  INFO 10272 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert_into_order.xml::insert orders into orders table::suhareva ran successfully in 5ms
2024-11-23T12:02:06.373+03:00  INFO 10272 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/insert_into_product.xml::insert products into products table::suhareva
2024-11-23T12:02:06.376+03:00  INFO 10272 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T12:02:06.377+03:00  INFO 10272 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T12:02:06.378+03:00  INFO 10272 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T12:02:06.379+03:00  INFO 10272 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert_into_product.xml::insert products into products table::suhareva ran successfully in 5ms
2024-11-23T12:02:06.387+03:00  INFO 10272 --- [main] liquibase.util                           : UPDATE SUMMARY
2024-11-23T12:02:06.387+03:00  INFO 10272 --- [main] liquibase.util                           : Run:                          4
2024-11-23T12:02:06.388+03:00  INFO 10272 --- [main] liquibase.util                           : Previously run:               0
2024-11-23T12:02:06.388+03:00  INFO 10272 --- [main] liquibase.util                           : Filtered out:                 0
2024-11-23T12:02:06.388+03:00  INFO 10272 --- [main] liquibase.util                           : -------------------------------
2024-11-23T12:02:06.388+03:00  INFO 10272 --- [main] liquibase.util                           : Total change sets:            4
2024-11-23T12:02:06.389+03:00  INFO 10272 --- [main] liquibase.util                           : Update summary generated
2024-11-23T12:02:06.393+03:00  INFO 10272 --- [main] liquibase.command                        : Update command completed successfully.
2024-11-23T12:02:06.393+03:00  INFO 10272 --- [main] liquibase.ui                             : Liquibase: Update has been successful. Rows affected: 9
2024-11-23T12:02:06.395+03:00  INFO 10272 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-11-23T12:02:06.396+03:00  INFO 10272 --- [main] liquibase.command                        : Command execution complete
2024-11-23T12:02:07.004+03:00  INFO 10272 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2024-11-23T12:02:07.004+03:00  INFO 10272 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-11-23T12:02:07.006+03:00  INFO 10272 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-11-23T12:02:07.074+03:00  INFO 10272 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 52810 (http) with context path '/'
2024-11-23T12:02:07.086+03:00  INFO 10272 --- [main] c.s.o.controller.OrderControllerTest     : Started OrderControllerTest in 4.226 seconds (process running for 5.403)
2024-11-23T12:02:08.683+03:00  INFO 10272 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-11-23T12:02:08.687+03:00  INFO 10272 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-11-23T12:02:41.435+03:00  INFO 22580 --- [main] c.s.o.controller.OrderControllerTest     : Starting OrderControllerTest using Java 17.0.13 with PID 22580 (started by ksuhareva in E:\TEST-TASK\order-sevice\order-sevice)
2024-11-23T12:02:41.437+03:00  INFO 22580 --- [main] c.s.o.controller.OrderControllerTest     : The following 1 profile is active: "test"
2024-11-23T12:02:42.987+03:00  INFO 22580 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2024-11-23T12:02:43.005+03:00  INFO 22580 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-11-23T12:02:43.006+03:00  INFO 22580 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-11-23T12:02:43.087+03:00  INFO 22580 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-11-23T12:02:43.088+03:00  INFO 22580 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1627 ms
2024-11-23T12:02:43.122+03:00  INFO 22580 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-11-23T12:02:43.345+03:00  INFO 22580 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2024-11-23T12:02:43.347+03:00  INFO 22580 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-11-23T12:02:43.361+03:00  INFO 22580 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2024-11-23T12:02:43.798+03:00  INFO 22580 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-11-23T12:02:44.374+03:00  INFO 22580 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-11-23T12:02:44.478+03:00  INFO 22580 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-11-23T12:02:44.548+03:00  INFO 22580 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-11-23T12:02:44.549+03:00  INFO 22580 --- [main] liquibase.command                        : Using deploymentId: 2352564549
2024-11-23T12:02:44.551+03:00  INFO 22580 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-11-23T12:02:44.586+03:00  INFO 22580 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/create_order_table.xml::Create table orders::suhareva
2024-11-23T12:02:44.601+03:00  INFO 22580 --- [main] liquibase.changelog                      : Table ORDERS created
2024-11-23T12:02:44.602+03:00  INFO 22580 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create_order_table.xml::Create table orders::suhareva ran successfully in 12ms
2024-11-23T12:02:44.610+03:00  INFO 22580 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/create_product_table.xml::Create table products::suhareva
2024-11-23T12:02:44.614+03:00  INFO 22580 --- [main] liquibase.changelog                      : Table PRODUCTS created
2024-11-23T12:02:44.614+03:00  INFO 22580 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create_product_table.xml::Create table products::suhareva ran successfully in 3ms
2024-11-23T12:02:44.620+03:00  INFO 22580 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/insert_into_order.xml::insert orders into orders table::suhareva
2024-11-23T12:02:44.622+03:00  INFO 22580 --- [main] liquibase.changelog                      : New row inserted into ORDERS
2024-11-23T12:02:44.626+03:00  INFO 22580 --- [main] liquibase.changelog                      : New row inserted into ORDERS
2024-11-23T12:02:44.627+03:00  INFO 22580 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert_into_order.xml::insert orders into orders table::suhareva ran successfully in 6ms
2024-11-23T12:02:44.633+03:00  INFO 22580 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/insert_into_product.xml::insert products into products table::suhareva
2024-11-23T12:02:44.635+03:00  INFO 22580 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T12:02:44.638+03:00  INFO 22580 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T12:02:44.640+03:00  INFO 22580 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T12:02:44.641+03:00  INFO 22580 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert_into_product.xml::insert products into products table::suhareva ran successfully in 8ms
2024-11-23T12:02:44.653+03:00  INFO 22580 --- [main] liquibase.util                           : UPDATE SUMMARY
2024-11-23T12:02:44.654+03:00  INFO 22580 --- [main] liquibase.util                           : Run:                          4
2024-11-23T12:02:44.654+03:00  INFO 22580 --- [main] liquibase.util                           : Previously run:               0
2024-11-23T12:02:44.654+03:00  INFO 22580 --- [main] liquibase.util                           : Filtered out:                 0
2024-11-23T12:02:44.654+03:00  INFO 22580 --- [main] liquibase.util                           : -------------------------------
2024-11-23T12:02:44.654+03:00  INFO 22580 --- [main] liquibase.util                           : Total change sets:            4
2024-11-23T12:02:44.655+03:00  INFO 22580 --- [main] liquibase.util                           : Update summary generated
2024-11-23T12:02:44.659+03:00  INFO 22580 --- [main] liquibase.command                        : Update command completed successfully.
2024-11-23T12:02:44.659+03:00  INFO 22580 --- [main] liquibase.ui                             : Liquibase: Update has been successful. Rows affected: 9
2024-11-23T12:02:44.661+03:00  INFO 22580 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-11-23T12:02:44.662+03:00  INFO 22580 --- [main] liquibase.command                        : Command execution complete
2024-11-23T12:02:45.296+03:00  INFO 22580 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2024-11-23T12:02:45.297+03:00  INFO 22580 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-11-23T12:02:45.298+03:00  INFO 22580 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-11-23T12:02:45.377+03:00  INFO 22580 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 52838 (http) with context path '/'
2024-11-23T12:02:45.391+03:00  INFO 22580 --- [main] c.s.o.controller.OrderControllerTest     : Started OrderControllerTest in 4.391 seconds (process running for 5.568)
2024-11-23T12:02:47.128+03:00 ERROR 22580 --- [main] c.s.o.h.OrderServiceExceptionHandler     : Catch RetryExhaustedException with cause:[reactor.core.Exceptions.retryExhausted(Exceptions.java:308), reactor.util.retry.RetryBackoffSpec.lambda$static$0(RetryBackoffSpec.java:68), reactor.util.retry.RetryBackoffSpec.lambda$null$4(RetryBackoffSpec.java:560), reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:183), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107), reactor.core.publisher.SinkManyEmitterProcessor.drain(SinkManyEmitterProcessor.java:476), reactor.core.publisher.SinkManyEmitterProcessor.tryEmitNext(SinkManyEmitterProcessor.java:273), reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:100), reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27), reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:194), reactor.core.publisher.MonoFlatMap$FlatMapMain.onError(MonoFlatMap.java:180), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121), reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onError(FluxDoFinally.java:119), reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258), reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onError(FluxPeekFuseable.java:903), reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onError(Operators.java:2236), reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:544), reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222), reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134), reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106), reactor.core.publisher.Operators.error(Operators.java:198), reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:56), reactor.core.publisher.Mono.subscribe(Mono.java:4576), reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103), reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222), reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222), reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222), reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93), reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:205), reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124), reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:229), reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:279), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121), reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.maybeOnError(FluxConcatMapNoPrefetch.java:327), reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:212), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107), reactor.core.publisher.SinkManyEmitterProcessor.drain(SinkManyEmitterProcessor.java:476), reactor.core.publisher.SinkManyEmitterProcessor$EmitterInner.drainParent(SinkManyEmitterProcessor.java:620), reactor.core.publisher.FluxPublish$PubSubInner.request(FluxPublish.java:874), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136), reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:337), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136), reactor.core.publisher.Operators$DeferredSubscription.request(Operators.java:1743), reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:196), reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205), reactor.netty.http.client.HttpClientConnect$MonoHttpConnect$ClientTransportSubscriber.onError(HttpClientConnect.java:311), reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205), reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onError(DefaultPooledConnectionProvider.java:172), reactor.netty.internal.shaded.reactor.pool.AbstractPool$Borrower.fail(AbstractPool.java:480), reactor.netty.internal.shaded.reactor.pool.SimpleDequePool.lambda$drainLoop$9(SimpleDequePool.java:436), reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onError(FluxDoOnEach.java:186), reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205), reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer.onError(DefaultPooledConnectionProvider.java:583), reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241), reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315), reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106), reactor.core.publisher.Operators.error(Operators.java:198), reactor.core.publisher.MonoError.subscribe(MonoError.java:53), reactor.core.publisher.Mono.subscribe(Mono.java:4576), reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103), reactor.netty.transport.TransportConnector$MonoChannelPromise.tryFailure(TransportConnector.java:576), reactor.netty.transport.TransportConnector$MonoChannelPromise.setFailure(TransportConnector.java:522), reactor.netty.transport.TransportConnector.lambda$doConnect$7(TransportConnector.java:261), io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590), io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:583), io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:559), io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492), io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636), io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:629), io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:118), io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.fulfillConnectPromise(AbstractNioChannel.java:326), io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:342), io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776), io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724), io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650), io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562), io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997), io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74), io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30), java.base/java.lang.Thread.run(Thread.java:840)] 
2024-11-23T12:02:47.175+03:00  WARN 22580 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Failure in @ExceptionHandler com.suhareva.order_service.handler.OrderServiceExceptionHandler#catchException(Exception)

org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.springframework.http.HttpMethod]
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:489) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:114) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:297) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:432) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:74) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:175) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1358) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.TestDispatcherServlet.processHandlerException(TestDispatcherServlet.java:146) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1161) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.31.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72) ~[spring-test-6.1.14.jar:6.1.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.31.jar:6.0]
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201) ~[spring-test-6.1.14.jar:6.1.14]
	at com.suhareva.order_service.controller.OrderControllerTest.saveOrderShouldOrderNumber(OrderControllerTest.java:35) ~[test-classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728) ~[junit-platform-commons-1.10.5.jar:1.10.5]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57) ~[junit5-rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) ~[idea_rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) ~[junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235) ~[junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54) ~[junit-rt.jar:na]
Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.springframework.http.HttpMethod and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.suhareva.order_service.handler.ErrorMessage["errorCause"]->org.springframework.web.reactive.function.client.WebClientRequestException["method"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1330) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:414) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:53) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:30) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:183) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:183) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:502) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:341) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1574) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061) ~[jackson-databind-2.17.2.jar:2.17.2]
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:483) ~[spring-web-6.1.14.jar:6.1.14]
	... 106 common frames omitted

2024-11-23T12:02:47.305+03:00  INFO 22580 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-11-23T12:02:47.309+03:00  INFO 22580 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-11-23T12:06:01.918+03:00  INFO 16400 --- [main] c.s.o.controller.OrderControllerTest     : Starting OrderControllerTest using Java 17.0.13 with PID 16400 (started by ksuhareva in E:\TEST-TASK\order-sevice\order-sevice)
2024-11-23T12:06:01.920+03:00  INFO 16400 --- [main] c.s.o.controller.OrderControllerTest     : The following 1 profile is active: "test"
2024-11-23T12:06:03.411+03:00  INFO 16400 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2024-11-23T12:06:03.423+03:00  INFO 16400 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-11-23T12:06:03.423+03:00  INFO 16400 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-11-23T12:06:03.499+03:00  INFO 16400 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-11-23T12:06:03.499+03:00  INFO 16400 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1566 ms
2024-11-23T12:06:03.530+03:00  INFO 16400 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-11-23T12:06:03.749+03:00  INFO 16400 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2024-11-23T12:06:03.751+03:00  INFO 16400 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-11-23T12:06:03.763+03:00  INFO 16400 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2024-11-23T12:06:04.199+03:00  INFO 16400 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-11-23T12:06:04.689+03:00  INFO 16400 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-11-23T12:06:04.809+03:00  INFO 16400 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-11-23T12:06:04.894+03:00  INFO 16400 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-11-23T12:06:04.896+03:00  INFO 16400 --- [main] liquibase.command                        : Using deploymentId: 2352764895
2024-11-23T12:06:04.898+03:00  INFO 16400 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-11-23T12:06:04.929+03:00  INFO 16400 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/create_order_table.xml::Create table orders::suhareva
2024-11-23T12:06:04.941+03:00  INFO 16400 --- [main] liquibase.changelog                      : Table ORDERS created
2024-11-23T12:06:04.942+03:00  INFO 16400 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create_order_table.xml::Create table orders::suhareva ran successfully in 12ms
2024-11-23T12:06:04.949+03:00  INFO 16400 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/create_product_table.xml::Create table products::suhareva
2024-11-23T12:06:04.953+03:00  INFO 16400 --- [main] liquibase.changelog                      : Table PRODUCTS created
2024-11-23T12:06:04.954+03:00  INFO 16400 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create_product_table.xml::Create table products::suhareva ran successfully in 4ms
2024-11-23T12:06:04.961+03:00  INFO 16400 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/insert_into_order.xml::insert orders into orders table::suhareva
2024-11-23T12:06:04.963+03:00  INFO 16400 --- [main] liquibase.changelog                      : New row inserted into ORDERS
2024-11-23T12:06:04.966+03:00  INFO 16400 --- [main] liquibase.changelog                      : New row inserted into ORDERS
2024-11-23T12:06:04.966+03:00  INFO 16400 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert_into_order.xml::insert orders into orders table::suhareva ran successfully in 5ms
2024-11-23T12:06:04.973+03:00  INFO 16400 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/insert_into_product.xml::insert products into products table::suhareva
2024-11-23T12:06:04.975+03:00  INFO 16400 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T12:06:04.977+03:00  INFO 16400 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T12:06:04.979+03:00  INFO 16400 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T12:06:04.980+03:00  INFO 16400 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert_into_product.xml::insert products into products table::suhareva ran successfully in 6ms
2024-11-23T12:06:04.989+03:00  INFO 16400 --- [main] liquibase.util                           : UPDATE SUMMARY
2024-11-23T12:06:04.989+03:00  INFO 16400 --- [main] liquibase.util                           : Run:                          4
2024-11-23T12:06:04.989+03:00  INFO 16400 --- [main] liquibase.util                           : Previously run:               0
2024-11-23T12:06:04.989+03:00  INFO 16400 --- [main] liquibase.util                           : Filtered out:                 0
2024-11-23T12:06:04.989+03:00  INFO 16400 --- [main] liquibase.util                           : -------------------------------
2024-11-23T12:06:04.989+03:00  INFO 16400 --- [main] liquibase.util                           : Total change sets:            4
2024-11-23T12:06:04.991+03:00  INFO 16400 --- [main] liquibase.util                           : Update summary generated
2024-11-23T12:06:04.997+03:00  INFO 16400 --- [main] liquibase.command                        : Update command completed successfully.
2024-11-23T12:06:04.997+03:00  INFO 16400 --- [main] liquibase.ui                             : Liquibase: Update has been successful. Rows affected: 9
2024-11-23T12:06:04.999+03:00  INFO 16400 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-11-23T12:06:05.000+03:00  INFO 16400 --- [main] liquibase.command                        : Command execution complete
2024-11-23T12:06:05.602+03:00  INFO 16400 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2024-11-23T12:06:05.603+03:00  INFO 16400 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-11-23T12:06:05.604+03:00  INFO 16400 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-11-23T12:06:05.680+03:00  INFO 16400 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 52903 (http) with context path '/'
2024-11-23T12:06:05.692+03:00  INFO 16400 --- [main] c.s.o.controller.OrderControllerTest     : Started OrderControllerTest in 4.197 seconds (process running for 5.387)
2024-11-23T12:06:07.285+03:00  INFO 16400 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-11-23T12:06:07.288+03:00  INFO 16400 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-11-23T12:06:24.764+03:00  INFO 10288 --- [main] c.s.o.controller.OrderControllerTest     : Starting OrderControllerTest using Java 17.0.13 with PID 10288 (started by ksuhareva in E:\TEST-TASK\order-sevice\order-sevice)
2024-11-23T12:06:24.767+03:00  INFO 10288 --- [main] c.s.o.controller.OrderControllerTest     : The following 1 profile is active: "test"
2024-11-23T12:06:26.295+03:00  INFO 10288 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2024-11-23T12:06:26.307+03:00  INFO 10288 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-11-23T12:06:26.307+03:00  INFO 10288 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-11-23T12:06:26.400+03:00  INFO 10288 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-11-23T12:06:26.401+03:00  INFO 10288 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1611 ms
2024-11-23T12:06:26.435+03:00  INFO 10288 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-11-23T12:06:26.638+03:00  INFO 10288 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2024-11-23T12:06:26.640+03:00  INFO 10288 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-11-23T12:06:26.650+03:00  INFO 10288 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2024-11-23T12:06:27.071+03:00  INFO 10288 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-11-23T12:06:27.570+03:00  INFO 10288 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-11-23T12:06:27.678+03:00  INFO 10288 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-11-23T12:06:27.755+03:00  INFO 10288 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-11-23T12:06:27.756+03:00  INFO 10288 --- [main] liquibase.command                        : Using deploymentId: 2352787756
2024-11-23T12:06:27.757+03:00  INFO 10288 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-11-23T12:06:27.787+03:00  INFO 10288 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/create_order_table.xml::Create table orders::suhareva
2024-11-23T12:06:27.798+03:00  INFO 10288 --- [main] liquibase.changelog                      : Table ORDERS created
2024-11-23T12:06:27.798+03:00  INFO 10288 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create_order_table.xml::Create table orders::suhareva ran successfully in 10ms
2024-11-23T12:06:27.805+03:00  INFO 10288 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/create_product_table.xml::Create table products::suhareva
2024-11-23T12:06:27.808+03:00  INFO 10288 --- [main] liquibase.changelog                      : Table PRODUCTS created
2024-11-23T12:06:27.809+03:00  INFO 10288 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create_product_table.xml::Create table products::suhareva ran successfully in 3ms
2024-11-23T12:06:27.815+03:00  INFO 10288 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/insert_into_order.xml::insert orders into orders table::suhareva
2024-11-23T12:06:27.818+03:00  INFO 10288 --- [main] liquibase.changelog                      : New row inserted into ORDERS
2024-11-23T12:06:27.820+03:00  INFO 10288 --- [main] liquibase.changelog                      : New row inserted into ORDERS
2024-11-23T12:06:27.821+03:00  INFO 10288 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert_into_order.xml::insert orders into orders table::suhareva ran successfully in 5ms
2024-11-23T12:06:27.827+03:00  INFO 10288 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/insert_into_product.xml::insert products into products table::suhareva
2024-11-23T12:06:27.829+03:00  INFO 10288 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T12:06:27.830+03:00  INFO 10288 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T12:06:27.831+03:00  INFO 10288 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T12:06:27.832+03:00  INFO 10288 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert_into_product.xml::insert products into products table::suhareva ran successfully in 5ms
2024-11-23T12:06:27.839+03:00  INFO 10288 --- [main] liquibase.util                           : UPDATE SUMMARY
2024-11-23T12:06:27.839+03:00  INFO 10288 --- [main] liquibase.util                           : Run:                          4
2024-11-23T12:06:27.839+03:00  INFO 10288 --- [main] liquibase.util                           : Previously run:               0
2024-11-23T12:06:27.839+03:00  INFO 10288 --- [main] liquibase.util                           : Filtered out:                 0
2024-11-23T12:06:27.839+03:00  INFO 10288 --- [main] liquibase.util                           : -------------------------------
2024-11-23T12:06:27.839+03:00  INFO 10288 --- [main] liquibase.util                           : Total change sets:            4
2024-11-23T12:06:27.840+03:00  INFO 10288 --- [main] liquibase.util                           : Update summary generated
2024-11-23T12:06:27.843+03:00  INFO 10288 --- [main] liquibase.command                        : Update command completed successfully.
2024-11-23T12:06:27.843+03:00  INFO 10288 --- [main] liquibase.ui                             : Liquibase: Update has been successful. Rows affected: 9
2024-11-23T12:06:27.845+03:00  INFO 10288 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-11-23T12:06:27.846+03:00  INFO 10288 --- [main] liquibase.command                        : Command execution complete
2024-11-23T12:06:28.466+03:00  INFO 10288 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2024-11-23T12:06:28.467+03:00  INFO 10288 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-11-23T12:06:28.468+03:00  INFO 10288 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-11-23T12:06:28.539+03:00  INFO 10288 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 52913 (http) with context path '/'
2024-11-23T12:06:28.550+03:00  INFO 10288 --- [main] c.s.o.controller.OrderControllerTest     : Started OrderControllerTest in 4.364 seconds (process running for 6.608)
2024-11-23T12:06:29.359+03:00  INFO 10288 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-11-23T12:06:29.362+03:00  INFO 10288 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-11-23T12:15:11.389+03:00  INFO 3904 --- [main] c.s.o.controller.OrderControllerTest     : Starting OrderControllerTest using Java 17.0.13 with PID 3904 (started by ksuhareva in E:\TEST-TASK\order-sevice\order-sevice)
2024-11-23T12:15:11.392+03:00  INFO 3904 --- [main] c.s.o.controller.OrderControllerTest     : The following 1 profile is active: "test"
2024-11-23T12:15:12.919+03:00  INFO 3904 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2024-11-23T12:15:12.931+03:00  INFO 3904 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-11-23T12:15:12.932+03:00  INFO 3904 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-11-23T12:15:13.019+03:00  INFO 3904 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-11-23T12:15:13.019+03:00  INFO 3904 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1614 ms
2024-11-23T12:15:13.067+03:00  INFO 3904 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-11-23T12:15:13.270+03:00  INFO 3904 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2024-11-23T12:15:13.271+03:00  INFO 3904 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-11-23T12:15:13.283+03:00  INFO 3904 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2024-11-23T12:15:13.707+03:00  INFO 3904 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-11-23T12:15:14.277+03:00  INFO 3904 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-11-23T12:15:14.387+03:00  INFO 3904 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-11-23T12:15:14.470+03:00  INFO 3904 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-11-23T12:15:14.471+03:00  INFO 3904 --- [main] liquibase.command                        : Using deploymentId: 2353314471
2024-11-23T12:15:14.474+03:00  INFO 3904 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-11-23T12:15:14.510+03:00  INFO 3904 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/create_order_table.xml::Create table orders::suhareva
2024-11-23T12:15:14.522+03:00  INFO 3904 --- [main] liquibase.changelog                      : Table ORDERS created
2024-11-23T12:15:14.523+03:00  INFO 3904 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create_order_table.xml::Create table orders::suhareva ran successfully in 12ms
2024-11-23T12:15:14.531+03:00  INFO 3904 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/create_product_table.xml::Create table products::suhareva
2024-11-23T12:15:14.534+03:00  INFO 3904 --- [main] liquibase.changelog                      : Table PRODUCTS created
2024-11-23T12:15:14.535+03:00  INFO 3904 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create_product_table.xml::Create table products::suhareva ran successfully in 4ms
2024-11-23T12:15:14.542+03:00  INFO 3904 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/insert_into_order.xml::insert orders into orders table::suhareva
2024-11-23T12:15:14.544+03:00  INFO 3904 --- [main] liquibase.changelog                      : New row inserted into ORDERS
2024-11-23T12:15:14.547+03:00  INFO 3904 --- [main] liquibase.changelog                      : New row inserted into ORDERS
2024-11-23T12:15:14.548+03:00  INFO 3904 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert_into_order.xml::insert orders into orders table::suhareva ran successfully in 6ms
2024-11-23T12:15:14.554+03:00  INFO 3904 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/insert_into_product.xml::insert products into products table::suhareva
2024-11-23T12:15:14.556+03:00  INFO 3904 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T12:15:14.558+03:00  INFO 3904 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T12:15:14.559+03:00  INFO 3904 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T12:15:14.560+03:00  INFO 3904 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert_into_product.xml::insert products into products table::suhareva ran successfully in 6ms
2024-11-23T12:15:14.567+03:00  INFO 3904 --- [main] liquibase.util                           : UPDATE SUMMARY
2024-11-23T12:15:14.567+03:00  INFO 3904 --- [main] liquibase.util                           : Run:                          4
2024-11-23T12:15:14.567+03:00  INFO 3904 --- [main] liquibase.util                           : Previously run:               0
2024-11-23T12:15:14.567+03:00  INFO 3904 --- [main] liquibase.util                           : Filtered out:                 0
2024-11-23T12:15:14.567+03:00  INFO 3904 --- [main] liquibase.util                           : -------------------------------
2024-11-23T12:15:14.567+03:00  INFO 3904 --- [main] liquibase.util                           : Total change sets:            4
2024-11-23T12:15:14.568+03:00  INFO 3904 --- [main] liquibase.util                           : Update summary generated
2024-11-23T12:15:14.572+03:00  INFO 3904 --- [main] liquibase.command                        : Update command completed successfully.
2024-11-23T12:15:14.573+03:00  INFO 3904 --- [main] liquibase.ui                             : Liquibase: Update has been successful. Rows affected: 9
2024-11-23T12:15:14.575+03:00  INFO 3904 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-11-23T12:15:14.576+03:00  INFO 3904 --- [main] liquibase.command                        : Command execution complete
2024-11-23T12:15:15.199+03:00  INFO 3904 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2024-11-23T12:15:15.199+03:00  INFO 3904 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-11-23T12:15:15.200+03:00  INFO 3904 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-11-23T12:15:15.406+03:00  INFO 3904 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 53635 (http) with context path '/'
2024-11-23T12:15:15.420+03:00  INFO 3904 --- [main] c.s.o.controller.OrderControllerTest     : Started OrderControllerTest in 4.456 seconds (process running for 5.773)
2024-11-23T12:15:17.192+03:00 ERROR 3904 --- [main] c.s.o.h.OrderServiceExceptionHandler     : Catch RetryExhaustedException with cause:[reactor.core.Exceptions.retryExhausted(Exceptions.java:308), reactor.util.retry.RetryBackoffSpec.lambda$static$0(RetryBackoffSpec.java:68), reactor.util.retry.RetryBackoffSpec.lambda$null$4(RetryBackoffSpec.java:560), reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:183), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107), reactor.core.publisher.SinkManyEmitterProcessor.drain(SinkManyEmitterProcessor.java:476), reactor.core.publisher.SinkManyEmitterProcessor.tryEmitNext(SinkManyEmitterProcessor.java:273), reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:100), reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27), reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:194), reactor.core.publisher.MonoFlatMap$FlatMapMain.onError(MonoFlatMap.java:180), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121), reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onError(FluxDoFinally.java:119), reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258), reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onError(FluxPeekFuseable.java:903), reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onError(Operators.java:2236), reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:544), reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222), reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134), reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106), reactor.core.publisher.Operators.error(Operators.java:198), reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:56), reactor.core.publisher.Mono.subscribe(Mono.java:4576), reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103), reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222), reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222), reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222), reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93), reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:205), reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124), reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:229), reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:279), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121), reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.maybeOnError(FluxConcatMapNoPrefetch.java:327), reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:212), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107), reactor.core.publisher.SinkManyEmitterProcessor.drain(SinkManyEmitterProcessor.java:476), reactor.core.publisher.SinkManyEmitterProcessor$EmitterInner.drainParent(SinkManyEmitterProcessor.java:620), reactor.core.publisher.FluxPublish$PubSubInner.request(FluxPublish.java:874), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136), reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:337), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136), reactor.core.publisher.Operators$DeferredSubscription.request(Operators.java:1743), reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:196), reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205), reactor.netty.http.client.HttpClientConnect$MonoHttpConnect$ClientTransportSubscriber.onError(HttpClientConnect.java:311), reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205), reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onError(DefaultPooledConnectionProvider.java:172), reactor.netty.internal.shaded.reactor.pool.AbstractPool$Borrower.fail(AbstractPool.java:480), reactor.netty.internal.shaded.reactor.pool.SimpleDequePool.lambda$drainLoop$9(SimpleDequePool.java:436), reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onError(FluxDoOnEach.java:186), reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205), reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer.onError(DefaultPooledConnectionProvider.java:583), reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241), reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315), reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106), reactor.core.publisher.Operators.error(Operators.java:198), reactor.core.publisher.MonoError.subscribe(MonoError.java:53), reactor.core.publisher.Mono.subscribe(Mono.java:4576), reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103), reactor.netty.transport.TransportConnector$MonoChannelPromise.tryFailure(TransportConnector.java:576), reactor.netty.transport.TransportConnector$MonoChannelPromise.setFailure(TransportConnector.java:522), reactor.netty.transport.TransportConnector.lambda$doConnect$7(TransportConnector.java:261), io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590), io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:583), io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:559), io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492), io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636), io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:629), io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:118), io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.fulfillConnectPromise(AbstractNioChannel.java:326), io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:342), io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776), io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724), io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650), io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562), io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997), io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74), io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30), java.base/java.lang.Thread.run(Thread.java:840)] 
2024-11-23T12:15:17.237+03:00  WARN 3904 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Failure in @ExceptionHandler com.suhareva.order_service.handler.OrderServiceExceptionHandler#catchException(Exception)

org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.springframework.http.HttpMethod]
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:489) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:114) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:297) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:432) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:74) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:175) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1358) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.TestDispatcherServlet.processHandlerException(TestDispatcherServlet.java:146) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1161) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.31.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72) ~[spring-test-6.1.14.jar:6.1.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.31.jar:6.0]
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201) ~[spring-test-6.1.14.jar:6.1.14]
	at com.suhareva.order_service.controller.OrderControllerTest.saveOrderShouldOrderNumber(OrderControllerTest.java:64) ~[test-classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728) ~[junit-platform-commons-1.10.5.jar:1.10.5]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57) ~[junit5-rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) ~[idea_rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) ~[junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235) ~[junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54) ~[junit-rt.jar:na]
Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.springframework.http.HttpMethod and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.suhareva.order_service.handler.ErrorMessage["errorCause"]->org.springframework.web.reactive.function.client.WebClientRequestException["method"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1330) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:414) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:53) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:30) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:183) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:183) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:502) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:341) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1574) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061) ~[jackson-databind-2.17.2.jar:2.17.2]
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:483) ~[spring-web-6.1.14.jar:6.1.14]
	... 106 common frames omitted

2024-11-23T12:15:17.366+03:00  INFO 3904 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-11-23T12:15:17.369+03:00  INFO 3904 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-11-23T12:30:30.049+03:00  INFO 1432 --- [main] c.s.o.controller.OrderControllerTest     : Starting OrderControllerTest using Java 17.0.13 with PID 1432 (started by ksuhareva in E:\TEST-TASK\order-sevice\order-sevice)
2024-11-23T12:30:30.051+03:00  INFO 1432 --- [main] c.s.o.controller.OrderControllerTest     : The following 1 profile is active: "test"
2024-11-23T12:30:31.555+03:00  INFO 1432 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2024-11-23T12:30:31.572+03:00  INFO 1432 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-11-23T12:30:31.572+03:00  INFO 1432 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-11-23T12:30:31.656+03:00  INFO 1432 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-11-23T12:30:31.657+03:00  INFO 1432 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1589 ms
2024-11-23T12:30:31.701+03:00  INFO 1432 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-11-23T12:30:31.910+03:00  INFO 1432 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2024-11-23T12:30:31.912+03:00  INFO 1432 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-11-23T12:30:31.926+03:00  INFO 1432 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2024-11-23T12:30:32.349+03:00  INFO 1432 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-11-23T12:30:32.890+03:00  INFO 1432 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-11-23T12:30:33.004+03:00  INFO 1432 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-11-23T12:30:33.090+03:00  INFO 1432 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-11-23T12:30:33.091+03:00  INFO 1432 --- [main] liquibase.command                        : Using deploymentId: 2354233091
2024-11-23T12:30:33.094+03:00  INFO 1432 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-11-23T12:30:33.134+03:00  INFO 1432 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/create_order_table.xml::Create table orders::suhareva
2024-11-23T12:30:33.146+03:00  INFO 1432 --- [main] liquibase.changelog                      : Table ORDERS created
2024-11-23T12:30:33.148+03:00  INFO 1432 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create_order_table.xml::Create table orders::suhareva ran successfully in 11ms
2024-11-23T12:30:33.155+03:00  INFO 1432 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/create_product_table.xml::Create table products::suhareva
2024-11-23T12:30:33.159+03:00  INFO 1432 --- [main] liquibase.changelog                      : Table PRODUCTS created
2024-11-23T12:30:33.159+03:00  INFO 1432 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create_product_table.xml::Create table products::suhareva ran successfully in 3ms
2024-11-23T12:30:33.165+03:00  INFO 1432 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/insert_into_order.xml::insert orders into orders table::suhareva
2024-11-23T12:30:33.168+03:00  INFO 1432 --- [main] liquibase.changelog                      : New row inserted into ORDERS
2024-11-23T12:30:33.171+03:00  INFO 1432 --- [main] liquibase.changelog                      : New row inserted into ORDERS
2024-11-23T12:30:33.171+03:00  INFO 1432 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert_into_order.xml::insert orders into orders table::suhareva ran successfully in 5ms
2024-11-23T12:30:33.176+03:00  INFO 1432 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/insert_into_product.xml::insert products into products table::suhareva
2024-11-23T12:30:33.178+03:00  INFO 1432 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T12:30:33.179+03:00  INFO 1432 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T12:30:33.180+03:00  INFO 1432 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T12:30:33.181+03:00  INFO 1432 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert_into_product.xml::insert products into products table::suhareva ran successfully in 4ms
2024-11-23T12:30:33.191+03:00  INFO 1432 --- [main] liquibase.util                           : UPDATE SUMMARY
2024-11-23T12:30:33.191+03:00  INFO 1432 --- [main] liquibase.util                           : Run:                          4
2024-11-23T12:30:33.191+03:00  INFO 1432 --- [main] liquibase.util                           : Previously run:               0
2024-11-23T12:30:33.192+03:00  INFO 1432 --- [main] liquibase.util                           : Filtered out:                 0
2024-11-23T12:30:33.192+03:00  INFO 1432 --- [main] liquibase.util                           : -------------------------------
2024-11-23T12:30:33.192+03:00  INFO 1432 --- [main] liquibase.util                           : Total change sets:            4
2024-11-23T12:30:33.194+03:00  INFO 1432 --- [main] liquibase.util                           : Update summary generated
2024-11-23T12:30:33.199+03:00  INFO 1432 --- [main] liquibase.command                        : Update command completed successfully.
2024-11-23T12:30:33.199+03:00  INFO 1432 --- [main] liquibase.ui                             : Liquibase: Update has been successful. Rows affected: 9
2024-11-23T12:30:33.201+03:00  INFO 1432 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-11-23T12:30:33.203+03:00  INFO 1432 --- [main] liquibase.command                        : Command execution complete
2024-11-23T12:30:33.825+03:00  INFO 1432 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2024-11-23T12:30:33.826+03:00  INFO 1432 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-11-23T12:30:33.827+03:00  INFO 1432 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-11-23T12:30:34.043+03:00  INFO 1432 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 54606 (http) with context path '/'
2024-11-23T12:30:34.055+03:00  INFO 1432 --- [main] c.s.o.controller.OrderControllerTest     : Started OrderControllerTest in 4.46 seconds (process running for 5.736)
2024-11-23T12:30:35.737+03:00 ERROR 1432 --- [main] c.s.o.h.OrderServiceExceptionHandler     : Catch RetryExhaustedException with cause:[reactor.core.Exceptions.retryExhausted(Exceptions.java:308), reactor.util.retry.RetryBackoffSpec.lambda$static$0(RetryBackoffSpec.java:68), reactor.util.retry.RetryBackoffSpec.lambda$null$4(RetryBackoffSpec.java:560), reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:183), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107), reactor.core.publisher.SinkManyEmitterProcessor.drain(SinkManyEmitterProcessor.java:476), reactor.core.publisher.SinkManyEmitterProcessor.tryEmitNext(SinkManyEmitterProcessor.java:273), reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:100), reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27), reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:194), reactor.core.publisher.MonoFlatMap$FlatMapMain.onError(MonoFlatMap.java:180), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121), reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onError(FluxDoFinally.java:119), reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258), reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onError(FluxPeekFuseable.java:903), reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onError(Operators.java:2236), reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:544), reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222), reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134), reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106), reactor.core.publisher.Operators.error(Operators.java:198), reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:56), reactor.core.publisher.Mono.subscribe(Mono.java:4576), reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103), reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222), reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222), reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222), reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93), reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:205), reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124), reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:229), reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:279), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121), reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.maybeOnError(FluxConcatMapNoPrefetch.java:327), reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:212), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107), reactor.core.publisher.SinkManyEmitterProcessor.drain(SinkManyEmitterProcessor.java:476), reactor.core.publisher.SinkManyEmitterProcessor$EmitterInner.drainParent(SinkManyEmitterProcessor.java:620), reactor.core.publisher.FluxPublish$PubSubInner.request(FluxPublish.java:874), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136), reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:337), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136), reactor.core.publisher.Operators$DeferredSubscription.request(Operators.java:1743), reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:196), reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205), reactor.netty.http.client.HttpClientConnect$MonoHttpConnect$ClientTransportSubscriber.onError(HttpClientConnect.java:311), reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205), reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onError(DefaultPooledConnectionProvider.java:172), reactor.netty.internal.shaded.reactor.pool.AbstractPool$Borrower.fail(AbstractPool.java:480), reactor.netty.internal.shaded.reactor.pool.SimpleDequePool.lambda$drainLoop$9(SimpleDequePool.java:436), reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onError(FluxDoOnEach.java:186), reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205), reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer.onError(DefaultPooledConnectionProvider.java:583), reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241), reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315), reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106), reactor.core.publisher.Operators.error(Operators.java:198), reactor.core.publisher.MonoError.subscribe(MonoError.java:53), reactor.core.publisher.Mono.subscribe(Mono.java:4576), reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103), reactor.netty.transport.TransportConnector$MonoChannelPromise.tryFailure(TransportConnector.java:576), reactor.netty.transport.TransportConnector$MonoChannelPromise.setFailure(TransportConnector.java:522), reactor.netty.transport.TransportConnector.lambda$doConnect$7(TransportConnector.java:261), io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590), io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:583), io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:559), io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492), io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636), io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:629), io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:118), io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.fulfillConnectPromise(AbstractNioChannel.java:326), io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:342), io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776), io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724), io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650), io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562), io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997), io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74), io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30), java.base/java.lang.Thread.run(Thread.java:840)] 
2024-11-23T12:30:35.784+03:00  WARN 1432 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Failure in @ExceptionHandler com.suhareva.order_service.handler.OrderServiceExceptionHandler#catchException(Exception)

org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.springframework.http.HttpMethod]
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:489) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:114) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:297) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:432) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:74) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:175) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1358) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.TestDispatcherServlet.processHandlerException(TestDispatcherServlet.java:146) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1161) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.31.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72) ~[spring-test-6.1.14.jar:6.1.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.31.jar:6.0]
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201) ~[spring-test-6.1.14.jar:6.1.14]
	at com.suhareva.order_service.controller.OrderControllerTest.saveOrderShouldOrderNumber(OrderControllerTest.java:81) ~[test-classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728) ~[junit-platform-commons-1.10.5.jar:1.10.5]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57) ~[junit5-rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) ~[idea_rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) ~[junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235) ~[junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54) ~[junit-rt.jar:na]
Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.springframework.http.HttpMethod and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.suhareva.order_service.handler.ErrorMessage["errorCause"]->org.springframework.web.reactive.function.client.WebClientRequestException["method"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1330) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:414) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:53) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:30) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:183) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:183) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:502) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:341) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1574) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061) ~[jackson-databind-2.17.2.jar:2.17.2]
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:483) ~[spring-web-6.1.14.jar:6.1.14]
	... 106 common frames omitted

2024-11-23T12:30:35.910+03:00  INFO 1432 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-11-23T12:30:35.914+03:00  INFO 1432 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-11-23T12:32:24.044+03:00  INFO 20068 --- [main] c.s.o.controller.OrderControllerTest     : Starting OrderControllerTest using Java 17.0.13 with PID 20068 (started by ksuhareva in E:\TEST-TASK\order-sevice\order-sevice)
2024-11-23T12:32:24.046+03:00  INFO 20068 --- [main] c.s.o.controller.OrderControllerTest     : The following 1 profile is active: "test"
2024-11-23T12:32:25.532+03:00  INFO 20068 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2024-11-23T12:32:25.550+03:00  INFO 20068 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-11-23T12:32:25.551+03:00  INFO 20068 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-11-23T12:32:25.648+03:00  INFO 20068 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-11-23T12:32:25.648+03:00  INFO 20068 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1589 ms
2024-11-23T12:32:25.692+03:00  INFO 20068 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-11-23T12:32:25.885+03:00  INFO 20068 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2024-11-23T12:32:25.886+03:00  INFO 20068 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-11-23T12:32:25.899+03:00  INFO 20068 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2024-11-23T12:32:26.348+03:00  INFO 20068 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-11-23T12:32:26.850+03:00  INFO 20068 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-11-23T12:32:26.965+03:00  INFO 20068 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-11-23T12:32:27.040+03:00  INFO 20068 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-11-23T12:32:27.041+03:00  INFO 20068 --- [main] liquibase.command                        : Using deploymentId: 2354347041
2024-11-23T12:32:27.043+03:00  INFO 20068 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-11-23T12:32:27.079+03:00  INFO 20068 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/create_order_table.xml::Create table orders::suhareva
2024-11-23T12:32:27.093+03:00  INFO 20068 --- [main] liquibase.changelog                      : Table ORDERS created
2024-11-23T12:32:27.095+03:00  INFO 20068 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create_order_table.xml::Create table orders::suhareva ran successfully in 14ms
2024-11-23T12:32:27.104+03:00  INFO 20068 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/create_product_table.xml::Create table products::suhareva
2024-11-23T12:32:27.108+03:00  INFO 20068 --- [main] liquibase.changelog                      : Table PRODUCTS created
2024-11-23T12:32:27.109+03:00  INFO 20068 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create_product_table.xml::Create table products::suhareva ran successfully in 4ms
2024-11-23T12:32:27.114+03:00  INFO 20068 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/insert_into_order.xml::insert orders into orders table::suhareva
2024-11-23T12:32:27.117+03:00  INFO 20068 --- [main] liquibase.changelog                      : New row inserted into ORDERS
2024-11-23T12:32:27.120+03:00  INFO 20068 --- [main] liquibase.changelog                      : New row inserted into ORDERS
2024-11-23T12:32:27.120+03:00  INFO 20068 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert_into_order.xml::insert orders into orders table::suhareva ran successfully in 5ms
2024-11-23T12:32:27.125+03:00  INFO 20068 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/insert_into_product.xml::insert products into products table::suhareva
2024-11-23T12:32:27.128+03:00  INFO 20068 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T12:32:27.129+03:00  INFO 20068 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T12:32:27.131+03:00  INFO 20068 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T12:32:27.131+03:00  INFO 20068 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert_into_product.xml::insert products into products table::suhareva ran successfully in 5ms
2024-11-23T12:32:27.140+03:00  INFO 20068 --- [main] liquibase.util                           : UPDATE SUMMARY
2024-11-23T12:32:27.141+03:00  INFO 20068 --- [main] liquibase.util                           : Run:                          4
2024-11-23T12:32:27.141+03:00  INFO 20068 --- [main] liquibase.util                           : Previously run:               0
2024-11-23T12:32:27.141+03:00  INFO 20068 --- [main] liquibase.util                           : Filtered out:                 0
2024-11-23T12:32:27.141+03:00  INFO 20068 --- [main] liquibase.util                           : -------------------------------
2024-11-23T12:32:27.141+03:00  INFO 20068 --- [main] liquibase.util                           : Total change sets:            4
2024-11-23T12:32:27.143+03:00  INFO 20068 --- [main] liquibase.util                           : Update summary generated
2024-11-23T12:32:27.147+03:00  INFO 20068 --- [main] liquibase.command                        : Update command completed successfully.
2024-11-23T12:32:27.148+03:00  INFO 20068 --- [main] liquibase.ui                             : Liquibase: Update has been successful. Rows affected: 9
2024-11-23T12:32:27.149+03:00  INFO 20068 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-11-23T12:32:27.151+03:00  INFO 20068 --- [main] liquibase.command                        : Command execution complete
2024-11-23T12:32:27.786+03:00  INFO 20068 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2024-11-23T12:32:27.787+03:00  INFO 20068 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-11-23T12:32:27.788+03:00  INFO 20068 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-11-23T12:32:27.991+03:00  INFO 20068 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 54641 (http) with context path '/'
2024-11-23T12:32:28.003+03:00  INFO 20068 --- [main] c.s.o.controller.OrderControllerTest     : Started OrderControllerTest in 4.355 seconds (process running for 5.687)
2024-11-23T12:32:29.604+03:00 ERROR 20068 --- [main] c.s.o.h.OrderServiceExceptionHandler     : Catch RetryExhaustedException with cause:[reactor.core.Exceptions.retryExhausted(Exceptions.java:308), reactor.util.retry.RetryBackoffSpec.lambda$static$0(RetryBackoffSpec.java:68), reactor.util.retry.RetryBackoffSpec.lambda$null$4(RetryBackoffSpec.java:560), reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:183), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107), reactor.core.publisher.SinkManyEmitterProcessor.drain(SinkManyEmitterProcessor.java:476), reactor.core.publisher.SinkManyEmitterProcessor.tryEmitNext(SinkManyEmitterProcessor.java:273), reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:100), reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27), reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:194), reactor.core.publisher.MonoFlatMap$FlatMapMain.onError(MonoFlatMap.java:180), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121), reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onError(FluxDoFinally.java:119), reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258), reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onError(FluxPeekFuseable.java:903), reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onError(Operators.java:2236), reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:544), reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222), reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134), reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106), reactor.core.publisher.Operators.error(Operators.java:198), reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:56), reactor.core.publisher.Mono.subscribe(Mono.java:4576), reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103), reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222), reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222), reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222), reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93), reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:205), reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124), reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:229), reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:279), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121), reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.maybeOnError(FluxConcatMapNoPrefetch.java:327), reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:212), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107), reactor.core.publisher.SinkManyEmitterProcessor.drain(SinkManyEmitterProcessor.java:476), reactor.core.publisher.SinkManyEmitterProcessor$EmitterInner.drainParent(SinkManyEmitterProcessor.java:620), reactor.core.publisher.FluxPublish$PubSubInner.request(FluxPublish.java:874), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136), reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:337), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136), reactor.core.publisher.Operators$DeferredSubscription.request(Operators.java:1743), reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:196), reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205), reactor.netty.http.client.HttpClientConnect$MonoHttpConnect$ClientTransportSubscriber.onError(HttpClientConnect.java:311), reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205), reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onError(DefaultPooledConnectionProvider.java:172), reactor.netty.internal.shaded.reactor.pool.AbstractPool$Borrower.fail(AbstractPool.java:480), reactor.netty.internal.shaded.reactor.pool.SimpleDequePool.lambda$drainLoop$9(SimpleDequePool.java:436), reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onError(FluxDoOnEach.java:186), reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205), reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer.onError(DefaultPooledConnectionProvider.java:583), reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241), reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315), reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106), reactor.core.publisher.Operators.error(Operators.java:198), reactor.core.publisher.MonoError.subscribe(MonoError.java:53), reactor.core.publisher.Mono.subscribe(Mono.java:4576), reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103), reactor.netty.transport.TransportConnector$MonoChannelPromise.tryFailure(TransportConnector.java:576), reactor.netty.transport.TransportConnector$MonoChannelPromise.setFailure(TransportConnector.java:522), reactor.netty.transport.TransportConnector.lambda$doConnect$7(TransportConnector.java:261), io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590), io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:583), io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:559), io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492), io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636), io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:629), io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:118), io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.fulfillConnectPromise(AbstractNioChannel.java:326), io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:342), io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776), io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724), io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650), io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562), io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997), io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74), io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30), java.base/java.lang.Thread.run(Thread.java:840)] 
2024-11-23T12:32:29.649+03:00  WARN 20068 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Failure in @ExceptionHandler com.suhareva.order_service.handler.OrderServiceExceptionHandler#catchException(Exception)

org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.springframework.http.HttpMethod]
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:489) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:114) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:297) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:432) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:74) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:175) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1358) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.TestDispatcherServlet.processHandlerException(TestDispatcherServlet.java:146) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1161) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.31.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72) ~[spring-test-6.1.14.jar:6.1.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.31.jar:6.0]
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201) ~[spring-test-6.1.14.jar:6.1.14]
	at com.suhareva.order_service.controller.OrderControllerTest.saveOrderShouldOrderNumber(OrderControllerTest.java:81) ~[test-classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728) ~[junit-platform-commons-1.10.5.jar:1.10.5]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57) ~[junit5-rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) ~[idea_rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) ~[junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235) ~[junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54) ~[junit-rt.jar:na]
Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.springframework.http.HttpMethod and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.suhareva.order_service.handler.ErrorMessage["errorCause"]->org.springframework.web.reactive.function.client.WebClientRequestException["method"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1330) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:414) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:53) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:30) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:183) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:183) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:502) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:341) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1574) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061) ~[jackson-databind-2.17.2.jar:2.17.2]
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:483) ~[spring-web-6.1.14.jar:6.1.14]
	... 106 common frames omitted

2024-11-23T12:32:29.769+03:00  INFO 20068 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-11-23T12:32:29.772+03:00  INFO 20068 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-11-23T12:39:53.649+03:00  INFO 19996 --- [main] c.s.o.controller.OrderControllerTest     : Starting OrderControllerTest using Java 17.0.13 with PID 19996 (started by ksuhareva in E:\TEST-TASK\order-sevice\order-sevice)
2024-11-23T12:39:53.650+03:00  INFO 19996 --- [main] c.s.o.controller.OrderControllerTest     : The following 1 profile is active: "test"
2024-11-23T12:39:55.126+03:00  INFO 19996 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2024-11-23T12:39:55.137+03:00  INFO 19996 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-11-23T12:39:55.137+03:00  INFO 19996 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-11-23T12:39:55.218+03:00  INFO 19996 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-11-23T12:39:55.219+03:00  INFO 19996 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1555 ms
2024-11-23T12:39:55.259+03:00  INFO 19996 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-11-23T12:39:55.445+03:00  INFO 19996 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2024-11-23T12:39:55.447+03:00  INFO 19996 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-11-23T12:39:55.458+03:00  INFO 19996 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2024-11-23T12:39:55.869+03:00  INFO 19996 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-11-23T12:39:56.375+03:00  INFO 19996 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-11-23T12:39:56.481+03:00  INFO 19996 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-11-23T12:39:56.556+03:00  INFO 19996 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-11-23T12:39:56.558+03:00  INFO 19996 --- [main] liquibase.command                        : Using deploymentId: 2354796557
2024-11-23T12:39:56.559+03:00  INFO 19996 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-11-23T12:39:56.589+03:00  INFO 19996 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/create_order_table.xml::Create table orders::suhareva
2024-11-23T12:39:56.601+03:00  INFO 19996 --- [main] liquibase.changelog                      : Table ORDERS created
2024-11-23T12:39:56.602+03:00  INFO 19996 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create_order_table.xml::Create table orders::suhareva ran successfully in 11ms
2024-11-23T12:39:56.610+03:00  INFO 19996 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/create_product_table.xml::Create table products::suhareva
2024-11-23T12:39:56.613+03:00  INFO 19996 --- [main] liquibase.changelog                      : Table PRODUCTS created
2024-11-23T12:39:56.614+03:00  INFO 19996 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create_product_table.xml::Create table products::suhareva ran successfully in 4ms
2024-11-23T12:39:56.620+03:00  INFO 19996 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/insert_into_order.xml::insert orders into orders table::suhareva
2024-11-23T12:39:56.622+03:00  INFO 19996 --- [main] liquibase.changelog                      : New row inserted into ORDERS
2024-11-23T12:39:56.625+03:00  INFO 19996 --- [main] liquibase.changelog                      : New row inserted into ORDERS
2024-11-23T12:39:56.626+03:00  INFO 19996 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert_into_order.xml::insert orders into orders table::suhareva ran successfully in 5ms
2024-11-23T12:39:56.632+03:00  INFO 19996 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/insert_into_product.xml::insert products into products table::suhareva
2024-11-23T12:39:56.634+03:00  INFO 19996 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T12:39:56.635+03:00  INFO 19996 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T12:39:56.637+03:00  INFO 19996 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T12:39:56.637+03:00  INFO 19996 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert_into_product.xml::insert products into products table::suhareva ran successfully in 5ms
2024-11-23T12:39:56.647+03:00  INFO 19996 --- [main] liquibase.util                           : UPDATE SUMMARY
2024-11-23T12:39:56.647+03:00  INFO 19996 --- [main] liquibase.util                           : Run:                          4
2024-11-23T12:39:56.647+03:00  INFO 19996 --- [main] liquibase.util                           : Previously run:               0
2024-11-23T12:39:56.647+03:00  INFO 19996 --- [main] liquibase.util                           : Filtered out:                 0
2024-11-23T12:39:56.647+03:00  INFO 19996 --- [main] liquibase.util                           : -------------------------------
2024-11-23T12:39:56.647+03:00  INFO 19996 --- [main] liquibase.util                           : Total change sets:            4
2024-11-23T12:39:56.649+03:00  INFO 19996 --- [main] liquibase.util                           : Update summary generated
2024-11-23T12:39:56.656+03:00  INFO 19996 --- [main] liquibase.command                        : Update command completed successfully.
2024-11-23T12:39:56.656+03:00  INFO 19996 --- [main] liquibase.ui                             : Liquibase: Update has been successful. Rows affected: 9
2024-11-23T12:39:56.658+03:00  INFO 19996 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-11-23T12:39:56.660+03:00  INFO 19996 --- [main] liquibase.command                        : Command execution complete
2024-11-23T12:39:57.300+03:00  INFO 19996 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2024-11-23T12:39:57.300+03:00  INFO 19996 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-11-23T12:39:57.302+03:00  INFO 19996 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-11-23T12:39:57.513+03:00  INFO 19996 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 54791 (http) with context path '/'
2024-11-23T12:39:57.525+03:00  INFO 19996 --- [main] c.s.o.controller.OrderControllerTest     : Started OrderControllerTest in 4.294 seconds (process running for 5.58)
2024-11-23T12:39:59.167+03:00 ERROR 19996 --- [main] c.s.o.h.OrderServiceExceptionHandler     : Catch RetryExhaustedException with cause:[reactor.core.Exceptions.retryExhausted(Exceptions.java:308), reactor.util.retry.RetryBackoffSpec.lambda$static$0(RetryBackoffSpec.java:68), reactor.util.retry.RetryBackoffSpec.lambda$null$4(RetryBackoffSpec.java:560), reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:183), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107), reactor.core.publisher.SinkManyEmitterProcessor.drain(SinkManyEmitterProcessor.java:476), reactor.core.publisher.SinkManyEmitterProcessor.tryEmitNext(SinkManyEmitterProcessor.java:273), reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:100), reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27), reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:194), reactor.core.publisher.MonoFlatMap$FlatMapMain.onError(MonoFlatMap.java:180), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121), reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onError(FluxDoFinally.java:119), reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258), reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onError(FluxPeekFuseable.java:903), reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onError(Operators.java:2236), reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:544), reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222), reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134), reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106), reactor.core.publisher.Operators.error(Operators.java:198), reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:56), reactor.core.publisher.Mono.subscribe(Mono.java:4576), reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103), reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222), reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222), reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222), reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93), reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:205), reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124), reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:229), reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:279), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121), reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.maybeOnError(FluxConcatMapNoPrefetch.java:327), reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:212), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107), reactor.core.publisher.SinkManyEmitterProcessor.drain(SinkManyEmitterProcessor.java:476), reactor.core.publisher.SinkManyEmitterProcessor$EmitterInner.drainParent(SinkManyEmitterProcessor.java:620), reactor.core.publisher.FluxPublish$PubSubInner.request(FluxPublish.java:874), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136), reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:337), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136), reactor.core.publisher.Operators$DeferredSubscription.request(Operators.java:1743), reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:196), reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205), reactor.netty.http.client.HttpClientConnect$MonoHttpConnect$ClientTransportSubscriber.onError(HttpClientConnect.java:311), reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205), reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onError(DefaultPooledConnectionProvider.java:172), reactor.netty.internal.shaded.reactor.pool.AbstractPool$Borrower.fail(AbstractPool.java:480), reactor.netty.internal.shaded.reactor.pool.SimpleDequePool.lambda$drainLoop$9(SimpleDequePool.java:436), reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onError(FluxDoOnEach.java:186), reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205), reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer.onError(DefaultPooledConnectionProvider.java:583), reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241), reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315), reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106), reactor.core.publisher.Operators.error(Operators.java:198), reactor.core.publisher.MonoError.subscribe(MonoError.java:53), reactor.core.publisher.Mono.subscribe(Mono.java:4576), reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103), reactor.netty.transport.TransportConnector$MonoChannelPromise.tryFailure(TransportConnector.java:576), reactor.netty.transport.TransportConnector$MonoChannelPromise.setFailure(TransportConnector.java:522), reactor.netty.transport.TransportConnector.lambda$doConnect$7(TransportConnector.java:261), io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590), io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:583), io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:559), io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492), io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636), io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:629), io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:118), io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.fulfillConnectPromise(AbstractNioChannel.java:326), io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:342), io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776), io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724), io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650), io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562), io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997), io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74), io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30), java.base/java.lang.Thread.run(Thread.java:840)] 
2024-11-23T12:39:59.215+03:00  WARN 19996 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Failure in @ExceptionHandler com.suhareva.order_service.handler.OrderServiceExceptionHandler#catchException(Exception)

org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.springframework.http.HttpMethod]
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:489) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:114) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:297) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:432) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:74) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:175) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1358) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.TestDispatcherServlet.processHandlerException(TestDispatcherServlet.java:146) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1161) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.31.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72) ~[spring-test-6.1.14.jar:6.1.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.31.jar:6.0]
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201) ~[spring-test-6.1.14.jar:6.1.14]
	at com.suhareva.order_service.controller.OrderControllerTest.saveOrderShouldOrderNumber(OrderControllerTest.java:81) ~[test-classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728) ~[junit-platform-commons-1.10.5.jar:1.10.5]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57) ~[junit5-rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) ~[idea_rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) ~[junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235) ~[junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54) ~[junit-rt.jar:na]
Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.springframework.http.HttpMethod and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.suhareva.order_service.handler.ErrorMessage["errorCause"]->org.springframework.web.reactive.function.client.WebClientRequestException["method"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1330) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:414) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:53) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:30) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:183) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:183) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:502) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:341) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1574) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061) ~[jackson-databind-2.17.2.jar:2.17.2]
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:483) ~[spring-web-6.1.14.jar:6.1.14]
	... 106 common frames omitted

2024-11-23T12:39:59.342+03:00  INFO 19996 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-11-23T12:39:59.346+03:00  INFO 19996 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-11-23T12:40:31.090+03:00  INFO 7856 --- [main] c.s.o.controller.OrderControllerTest     : Starting OrderControllerTest using Java 17.0.13 with PID 7856 (started by ksuhareva in E:\TEST-TASK\order-sevice\order-sevice)
2024-11-23T12:40:31.091+03:00  INFO 7856 --- [main] c.s.o.controller.OrderControllerTest     : The following 1 profile is active: "test"
2024-11-23T12:40:32.593+03:00  INFO 7856 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2024-11-23T12:40:32.609+03:00  INFO 7856 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-11-23T12:40:32.609+03:00  INFO 7856 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-11-23T12:40:32.693+03:00  INFO 7856 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-11-23T12:40:32.694+03:00  INFO 7856 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1589 ms
2024-11-23T12:40:32.744+03:00  INFO 7856 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-11-23T12:40:33.023+03:00  INFO 7856 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2024-11-23T12:40:33.025+03:00  INFO 7856 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-11-23T12:40:33.038+03:00  INFO 7856 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2024-11-23T12:40:33.460+03:00  INFO 7856 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-11-23T12:40:34.015+03:00  INFO 7856 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-11-23T12:40:34.137+03:00  INFO 7856 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-11-23T12:40:34.213+03:00  INFO 7856 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-11-23T12:40:34.214+03:00  INFO 7856 --- [main] liquibase.command                        : Using deploymentId: 2354834214
2024-11-23T12:40:34.216+03:00  INFO 7856 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-11-23T12:40:34.257+03:00  INFO 7856 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/create_order_table.xml::Create table orders::suhareva
2024-11-23T12:40:34.270+03:00  INFO 7856 --- [main] liquibase.changelog                      : Table ORDERS created
2024-11-23T12:40:34.271+03:00  INFO 7856 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create_order_table.xml::Create table orders::suhareva ran successfully in 13ms
2024-11-23T12:40:34.279+03:00  INFO 7856 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/create_product_table.xml::Create table products::suhareva
2024-11-23T12:40:34.283+03:00  INFO 7856 --- [main] liquibase.changelog                      : Table PRODUCTS created
2024-11-23T12:40:34.284+03:00  INFO 7856 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create_product_table.xml::Create table products::suhareva ran successfully in 4ms
2024-11-23T12:40:34.290+03:00  INFO 7856 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/insert_into_order.xml::insert orders into orders table::suhareva
2024-11-23T12:40:34.292+03:00  INFO 7856 --- [main] liquibase.changelog                      : New row inserted into ORDERS
2024-11-23T12:40:34.294+03:00  INFO 7856 --- [main] liquibase.changelog                      : New row inserted into ORDERS
2024-11-23T12:40:34.295+03:00  INFO 7856 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert_into_order.xml::insert orders into orders table::suhareva ran successfully in 5ms
2024-11-23T12:40:34.300+03:00  INFO 7856 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/insert_into_product.xml::insert products into products table::suhareva
2024-11-23T12:40:34.303+03:00  INFO 7856 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T12:40:34.304+03:00  INFO 7856 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T12:40:34.305+03:00  INFO 7856 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T12:40:34.306+03:00  INFO 7856 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert_into_product.xml::insert products into products table::suhareva ran successfully in 5ms
2024-11-23T12:40:34.316+03:00  INFO 7856 --- [main] liquibase.util                           : UPDATE SUMMARY
2024-11-23T12:40:34.316+03:00  INFO 7856 --- [main] liquibase.util                           : Run:                          4
2024-11-23T12:40:34.316+03:00  INFO 7856 --- [main] liquibase.util                           : Previously run:               0
2024-11-23T12:40:34.316+03:00  INFO 7856 --- [main] liquibase.util                           : Filtered out:                 0
2024-11-23T12:40:34.316+03:00  INFO 7856 --- [main] liquibase.util                           : -------------------------------
2024-11-23T12:40:34.316+03:00  INFO 7856 --- [main] liquibase.util                           : Total change sets:            4
2024-11-23T12:40:34.318+03:00  INFO 7856 --- [main] liquibase.util                           : Update summary generated
2024-11-23T12:40:34.322+03:00  INFO 7856 --- [main] liquibase.command                        : Update command completed successfully.
2024-11-23T12:40:34.322+03:00  INFO 7856 --- [main] liquibase.ui                             : Liquibase: Update has been successful. Rows affected: 9
2024-11-23T12:40:34.324+03:00  INFO 7856 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-11-23T12:40:34.325+03:00  INFO 7856 --- [main] liquibase.command                        : Command execution complete
2024-11-23T12:40:34.954+03:00  INFO 7856 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2024-11-23T12:40:34.955+03:00  INFO 7856 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-11-23T12:40:34.956+03:00  INFO 7856 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-11-23T12:40:35.168+03:00  INFO 7856 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 54809 (http) with context path '/'
2024-11-23T12:40:35.180+03:00  INFO 7856 --- [main] c.s.o.controller.OrderControllerTest     : Started OrderControllerTest in 4.544 seconds (process running for 5.852)
2024-11-23T12:40:36.896+03:00 ERROR 7856 --- [main] c.s.o.h.OrderServiceExceptionHandler     : Catch RetryExhaustedException with cause:[reactor.core.Exceptions.retryExhausted(Exceptions.java:308), reactor.util.retry.RetryBackoffSpec.lambda$static$0(RetryBackoffSpec.java:68), reactor.util.retry.RetryBackoffSpec.lambda$null$4(RetryBackoffSpec.java:560), reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:183), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107), reactor.core.publisher.SinkManyEmitterProcessor.drain(SinkManyEmitterProcessor.java:476), reactor.core.publisher.SinkManyEmitterProcessor.tryEmitNext(SinkManyEmitterProcessor.java:273), reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:100), reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27), reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:194), reactor.core.publisher.MonoFlatMap$FlatMapMain.onError(MonoFlatMap.java:180), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121), reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onError(FluxDoFinally.java:119), reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258), reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onError(FluxPeekFuseable.java:903), reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onError(Operators.java:2236), reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:544), reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222), reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134), reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106), reactor.core.publisher.Operators.error(Operators.java:198), reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:56), reactor.core.publisher.Mono.subscribe(Mono.java:4576), reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103), reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222), reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222), reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222), reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93), reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:205), reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124), reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:229), reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:279), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121), reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.maybeOnError(FluxConcatMapNoPrefetch.java:327), reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:212), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107), reactor.core.publisher.SinkManyEmitterProcessor.drain(SinkManyEmitterProcessor.java:476), reactor.core.publisher.SinkManyEmitterProcessor$EmitterInner.drainParent(SinkManyEmitterProcessor.java:620), reactor.core.publisher.FluxPublish$PubSubInner.request(FluxPublish.java:874), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136), reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:337), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136), reactor.core.publisher.Operators$DeferredSubscription.request(Operators.java:1743), reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:196), reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205), reactor.netty.http.client.HttpClientConnect$MonoHttpConnect$ClientTransportSubscriber.onError(HttpClientConnect.java:311), reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205), reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onError(DefaultPooledConnectionProvider.java:172), reactor.netty.internal.shaded.reactor.pool.AbstractPool$Borrower.fail(AbstractPool.java:480), reactor.netty.internal.shaded.reactor.pool.SimpleDequePool.lambda$drainLoop$9(SimpleDequePool.java:436), reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onError(FluxDoOnEach.java:186), reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205), reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer.onError(DefaultPooledConnectionProvider.java:583), reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241), reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315), reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106), reactor.core.publisher.Operators.error(Operators.java:198), reactor.core.publisher.MonoError.subscribe(MonoError.java:53), reactor.core.publisher.Mono.subscribe(Mono.java:4576), reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103), reactor.netty.transport.TransportConnector$MonoChannelPromise.tryFailure(TransportConnector.java:576), reactor.netty.transport.TransportConnector$MonoChannelPromise.setFailure(TransportConnector.java:522), reactor.netty.transport.TransportConnector.lambda$doConnect$7(TransportConnector.java:261), io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590), io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:583), io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:559), io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492), io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636), io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:629), io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:118), io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.fulfillConnectPromise(AbstractNioChannel.java:326), io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:342), io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776), io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724), io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650), io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562), io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997), io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74), io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30), java.base/java.lang.Thread.run(Thread.java:840)] 
2024-11-23T12:40:36.945+03:00  WARN 7856 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Failure in @ExceptionHandler com.suhareva.order_service.handler.OrderServiceExceptionHandler#catchException(Exception)

org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.springframework.http.HttpMethod]
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:489) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:114) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:297) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:432) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:74) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:175) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1358) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.TestDispatcherServlet.processHandlerException(TestDispatcherServlet.java:146) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1161) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.31.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72) ~[spring-test-6.1.14.jar:6.1.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.31.jar:6.0]
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201) ~[spring-test-6.1.14.jar:6.1.14]
	at com.suhareva.order_service.controller.OrderControllerTest.saveOrderShouldOrderNumber(OrderControllerTest.java:79) ~[test-classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728) ~[junit-platform-commons-1.10.5.jar:1.10.5]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57) ~[junit5-rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) ~[idea_rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) ~[junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235) ~[junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54) ~[junit-rt.jar:na]
Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.springframework.http.HttpMethod and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.suhareva.order_service.handler.ErrorMessage["errorCause"]->org.springframework.web.reactive.function.client.WebClientRequestException["method"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1330) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:414) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:53) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:30) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:183) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:183) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:502) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:341) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1574) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061) ~[jackson-databind-2.17.2.jar:2.17.2]
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:483) ~[spring-web-6.1.14.jar:6.1.14]
	... 106 common frames omitted

2024-11-23T12:40:37.073+03:00  INFO 7856 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-11-23T12:40:37.076+03:00  INFO 7856 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-11-23T12:41:22.987+03:00  INFO 15744 --- [main] c.s.o.controller.OrderControllerTest     : Starting OrderControllerTest using Java 17.0.13 with PID 15744 (started by ksuhareva in E:\TEST-TASK\order-sevice\order-sevice)
2024-11-23T12:41:22.989+03:00  INFO 15744 --- [main] c.s.o.controller.OrderControllerTest     : The following 1 profile is active: "test"
2024-11-23T12:41:24.674+03:00  INFO 15744 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2024-11-23T12:41:24.687+03:00  INFO 15744 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-11-23T12:41:24.687+03:00  INFO 15744 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-11-23T12:41:24.784+03:00  INFO 15744 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-11-23T12:41:24.784+03:00  INFO 15744 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1781 ms
2024-11-23T12:41:24.821+03:00  INFO 15744 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-11-23T12:41:25.016+03:00  INFO 15744 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2024-11-23T12:41:25.018+03:00  INFO 15744 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-11-23T12:41:25.030+03:00  INFO 15744 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2024-11-23T12:41:25.446+03:00  INFO 15744 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-11-23T12:41:25.914+03:00  INFO 15744 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-11-23T12:41:26.027+03:00  INFO 15744 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-11-23T12:41:26.118+03:00  INFO 15744 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-11-23T12:41:26.120+03:00  INFO 15744 --- [main] liquibase.command                        : Using deploymentId: 2354886119
2024-11-23T12:41:26.122+03:00  INFO 15744 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-11-23T12:41:26.163+03:00  INFO 15744 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/create_order_table.xml::Create table orders::suhareva
2024-11-23T12:41:26.175+03:00  INFO 15744 --- [main] liquibase.changelog                      : Table ORDERS created
2024-11-23T12:41:26.176+03:00  INFO 15744 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create_order_table.xml::Create table orders::suhareva ran successfully in 12ms
2024-11-23T12:41:26.184+03:00  INFO 15744 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/create_product_table.xml::Create table products::suhareva
2024-11-23T12:41:26.188+03:00  INFO 15744 --- [main] liquibase.changelog                      : Table PRODUCTS created
2024-11-23T12:41:26.188+03:00  INFO 15744 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create_product_table.xml::Create table products::suhareva ran successfully in 4ms
2024-11-23T12:41:26.195+03:00  INFO 15744 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/insert_into_order.xml::insert orders into orders table::suhareva
2024-11-23T12:41:26.197+03:00  INFO 15744 --- [main] liquibase.changelog                      : New row inserted into ORDERS
2024-11-23T12:41:26.200+03:00  INFO 15744 --- [main] liquibase.changelog                      : New row inserted into ORDERS
2024-11-23T12:41:26.200+03:00  INFO 15744 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert_into_order.xml::insert orders into orders table::suhareva ran successfully in 5ms
2024-11-23T12:41:26.205+03:00  INFO 15744 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/insert_into_product.xml::insert products into products table::suhareva
2024-11-23T12:41:26.207+03:00  INFO 15744 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T12:41:26.208+03:00  INFO 15744 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T12:41:26.209+03:00  INFO 15744 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T12:41:26.209+03:00  INFO 15744 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert_into_product.xml::insert products into products table::suhareva ran successfully in 4ms
2024-11-23T12:41:26.219+03:00  INFO 15744 --- [main] liquibase.util                           : UPDATE SUMMARY
2024-11-23T12:41:26.219+03:00  INFO 15744 --- [main] liquibase.util                           : Run:                          4
2024-11-23T12:41:26.219+03:00  INFO 15744 --- [main] liquibase.util                           : Previously run:               0
2024-11-23T12:41:26.220+03:00  INFO 15744 --- [main] liquibase.util                           : Filtered out:                 0
2024-11-23T12:41:26.220+03:00  INFO 15744 --- [main] liquibase.util                           : -------------------------------
2024-11-23T12:41:26.220+03:00  INFO 15744 --- [main] liquibase.util                           : Total change sets:            4
2024-11-23T12:41:26.222+03:00  INFO 15744 --- [main] liquibase.util                           : Update summary generated
2024-11-23T12:41:26.228+03:00  INFO 15744 --- [main] liquibase.command                        : Update command completed successfully.
2024-11-23T12:41:26.229+03:00  INFO 15744 --- [main] liquibase.ui                             : Liquibase: Update has been successful. Rows affected: 9
2024-11-23T12:41:26.230+03:00  INFO 15744 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-11-23T12:41:26.232+03:00  INFO 15744 --- [main] liquibase.command                        : Command execution complete
2024-11-23T12:41:26.829+03:00  INFO 15744 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2024-11-23T12:41:26.830+03:00  INFO 15744 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-11-23T12:41:26.831+03:00  INFO 15744 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-11-23T12:41:27.031+03:00  INFO 15744 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 54829 (http) with context path '/'
2024-11-23T12:41:27.043+03:00  INFO 15744 --- [main] c.s.o.controller.OrderControllerTest     : Started OrderControllerTest in 4.507 seconds (process running for 5.791)
2024-11-23T12:41:28.819+03:00 ERROR 15744 --- [main] c.s.o.h.OrderServiceExceptionHandler     : Catch RetryExhaustedException with cause:[reactor.core.Exceptions.retryExhausted(Exceptions.java:308), reactor.util.retry.RetryBackoffSpec.lambda$static$0(RetryBackoffSpec.java:68), reactor.util.retry.RetryBackoffSpec.lambda$null$4(RetryBackoffSpec.java:560), reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:183), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107), reactor.core.publisher.SinkManyEmitterProcessor.drain(SinkManyEmitterProcessor.java:476), reactor.core.publisher.SinkManyEmitterProcessor.tryEmitNext(SinkManyEmitterProcessor.java:273), reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:100), reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27), reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:194), reactor.core.publisher.MonoFlatMap$FlatMapMain.onError(MonoFlatMap.java:180), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121), reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onError(FluxDoFinally.java:119), reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258), reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onError(FluxPeekFuseable.java:903), reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onError(Operators.java:2236), reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:544), reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222), reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134), reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106), reactor.core.publisher.Operators.error(Operators.java:198), reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:56), reactor.core.publisher.Mono.subscribe(Mono.java:4576), reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103), reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222), reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222), reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222), reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93), reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:205), reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124), reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:229), reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:279), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121), reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.maybeOnError(FluxConcatMapNoPrefetch.java:327), reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:212), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107), reactor.core.publisher.SinkManyEmitterProcessor.drain(SinkManyEmitterProcessor.java:476), reactor.core.publisher.SinkManyEmitterProcessor$EmitterInner.drainParent(SinkManyEmitterProcessor.java:620), reactor.core.publisher.FluxPublish$PubSubInner.request(FluxPublish.java:874), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136), reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:337), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136), reactor.core.publisher.Operators$DeferredSubscription.request(Operators.java:1743), reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:196), reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205), reactor.netty.http.client.HttpClientConnect$MonoHttpConnect$ClientTransportSubscriber.onError(HttpClientConnect.java:311), reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205), reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onError(DefaultPooledConnectionProvider.java:172), reactor.netty.internal.shaded.reactor.pool.AbstractPool$Borrower.fail(AbstractPool.java:480), reactor.netty.internal.shaded.reactor.pool.SimpleDequePool.lambda$drainLoop$9(SimpleDequePool.java:436), reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onError(FluxDoOnEach.java:186), reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205), reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer.onError(DefaultPooledConnectionProvider.java:583), reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241), reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315), reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106), reactor.core.publisher.Operators.error(Operators.java:198), reactor.core.publisher.MonoError.subscribe(MonoError.java:53), reactor.core.publisher.Mono.subscribe(Mono.java:4576), reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103), reactor.netty.transport.TransportConnector$MonoChannelPromise.tryFailure(TransportConnector.java:576), reactor.netty.transport.TransportConnector$MonoChannelPromise.setFailure(TransportConnector.java:522), reactor.netty.transport.TransportConnector.lambda$doConnect$7(TransportConnector.java:261), io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590), io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:583), io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:559), io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492), io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636), io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:629), io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:118), io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.fulfillConnectPromise(AbstractNioChannel.java:326), io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:342), io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776), io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724), io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650), io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562), io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997), io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74), io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30), java.base/java.lang.Thread.run(Thread.java:840)] 
2024-11-23T12:41:28.869+03:00  WARN 15744 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Failure in @ExceptionHandler com.suhareva.order_service.handler.OrderServiceExceptionHandler#catchException(Exception)

org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.springframework.http.HttpMethod]
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:489) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:114) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:297) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:432) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:74) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:175) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1358) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.TestDispatcherServlet.processHandlerException(TestDispatcherServlet.java:146) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1161) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.31.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72) ~[spring-test-6.1.14.jar:6.1.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.31.jar:6.0]
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201) ~[spring-test-6.1.14.jar:6.1.14]
	at com.suhareva.order_service.controller.OrderControllerTest.saveOrderShouldOrderNumber(OrderControllerTest.java:78) ~[test-classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728) ~[junit-platform-commons-1.10.5.jar:1.10.5]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57) ~[junit5-rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) ~[idea_rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) ~[junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235) ~[junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54) ~[junit-rt.jar:na]
Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.springframework.http.HttpMethod and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.suhareva.order_service.handler.ErrorMessage["errorCause"]->org.springframework.web.reactive.function.client.WebClientRequestException["method"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1330) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:414) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:53) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:30) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:183) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:183) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:502) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:341) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1574) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061) ~[jackson-databind-2.17.2.jar:2.17.2]
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:483) ~[spring-web-6.1.14.jar:6.1.14]
	... 106 common frames omitted

2024-11-23T12:41:29.002+03:00  INFO 15744 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-11-23T12:41:29.006+03:00  INFO 15744 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-11-23T12:42:17.469+03:00  INFO 20532 --- [main] c.s.o.controller.OrderControllerTest     : Starting OrderControllerTest using Java 17.0.13 with PID 20532 (started by ksuhareva in E:\TEST-TASK\order-sevice\order-sevice)
2024-11-23T12:42:17.471+03:00  INFO 20532 --- [main] c.s.o.controller.OrderControllerTest     : The following 1 profile is active: "test"
2024-11-23T12:42:19.093+03:00  INFO 20532 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2024-11-23T12:42:19.108+03:00  INFO 20532 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-11-23T12:42:19.109+03:00  INFO 20532 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-11-23T12:42:19.193+03:00  INFO 20532 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-11-23T12:42:19.193+03:00  INFO 20532 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1705 ms
2024-11-23T12:42:19.228+03:00  INFO 20532 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-11-23T12:42:19.417+03:00  INFO 20532 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2024-11-23T12:42:19.419+03:00  INFO 20532 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-11-23T12:42:19.430+03:00  INFO 20532 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2024-11-23T12:42:19.845+03:00  INFO 20532 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-11-23T12:42:20.375+03:00  INFO 20532 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-11-23T12:42:20.487+03:00  INFO 20532 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-11-23T12:42:20.575+03:00  INFO 20532 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-11-23T12:42:20.576+03:00  INFO 20532 --- [main] liquibase.command                        : Using deploymentId: 2354940575
2024-11-23T12:42:20.577+03:00  INFO 20532 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-11-23T12:42:20.610+03:00  INFO 20532 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/create_order_table.xml::Create table orders::suhareva
2024-11-23T12:42:20.622+03:00  INFO 20532 --- [main] liquibase.changelog                      : Table ORDERS created
2024-11-23T12:42:20.623+03:00  INFO 20532 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create_order_table.xml::Create table orders::suhareva ran successfully in 12ms
2024-11-23T12:42:20.633+03:00  INFO 20532 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/create_product_table.xml::Create table products::suhareva
2024-11-23T12:42:20.636+03:00  INFO 20532 --- [main] liquibase.changelog                      : Table PRODUCTS created
2024-11-23T12:42:20.636+03:00  INFO 20532 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create_product_table.xml::Create table products::suhareva ran successfully in 3ms
2024-11-23T12:42:20.642+03:00  INFO 20532 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/insert_into_order.xml::insert orders into orders table::suhareva
2024-11-23T12:42:20.644+03:00  INFO 20532 --- [main] liquibase.changelog                      : New row inserted into ORDERS
2024-11-23T12:42:20.647+03:00  INFO 20532 --- [main] liquibase.changelog                      : New row inserted into ORDERS
2024-11-23T12:42:20.647+03:00  INFO 20532 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert_into_order.xml::insert orders into orders table::suhareva ran successfully in 5ms
2024-11-23T12:42:20.652+03:00  INFO 20532 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/insert_into_product.xml::insert products into products table::suhareva
2024-11-23T12:42:20.654+03:00  INFO 20532 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T12:42:20.656+03:00  INFO 20532 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T12:42:20.658+03:00  INFO 20532 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T12:42:20.658+03:00  INFO 20532 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert_into_product.xml::insert products into products table::suhareva ran successfully in 6ms
2024-11-23T12:42:20.667+03:00  INFO 20532 --- [main] liquibase.util                           : UPDATE SUMMARY
2024-11-23T12:42:20.667+03:00  INFO 20532 --- [main] liquibase.util                           : Run:                          4
2024-11-23T12:42:20.667+03:00  INFO 20532 --- [main] liquibase.util                           : Previously run:               0
2024-11-23T12:42:20.667+03:00  INFO 20532 --- [main] liquibase.util                           : Filtered out:                 0
2024-11-23T12:42:20.668+03:00  INFO 20532 --- [main] liquibase.util                           : -------------------------------
2024-11-23T12:42:20.668+03:00  INFO 20532 --- [main] liquibase.util                           : Total change sets:            4
2024-11-23T12:42:20.669+03:00  INFO 20532 --- [main] liquibase.util                           : Update summary generated
2024-11-23T12:42:20.675+03:00  INFO 20532 --- [main] liquibase.command                        : Update command completed successfully.
2024-11-23T12:42:20.675+03:00  INFO 20532 --- [main] liquibase.ui                             : Liquibase: Update has been successful. Rows affected: 9
2024-11-23T12:42:20.677+03:00  INFO 20532 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-11-23T12:42:20.679+03:00  INFO 20532 --- [main] liquibase.command                        : Command execution complete
2024-11-23T12:42:21.291+03:00  INFO 20532 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2024-11-23T12:42:21.292+03:00  INFO 20532 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-11-23T12:42:21.293+03:00  INFO 20532 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-11-23T12:42:21.508+03:00  INFO 20532 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 54856 (http) with context path '/'
2024-11-23T12:42:21.520+03:00  INFO 20532 --- [main] c.s.o.controller.OrderControllerTest     : Started OrderControllerTest in 4.483 seconds (process running for 5.812)
2024-11-23T12:42:23.193+03:00 ERROR 20532 --- [main] c.s.o.h.OrderServiceExceptionHandler     : Catch RetryExhaustedException with cause:[reactor.core.Exceptions.retryExhausted(Exceptions.java:308), reactor.util.retry.RetryBackoffSpec.lambda$static$0(RetryBackoffSpec.java:68), reactor.util.retry.RetryBackoffSpec.lambda$null$4(RetryBackoffSpec.java:560), reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:183), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107), reactor.core.publisher.SinkManyEmitterProcessor.drain(SinkManyEmitterProcessor.java:476), reactor.core.publisher.SinkManyEmitterProcessor.tryEmitNext(SinkManyEmitterProcessor.java:273), reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:100), reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27), reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:194), reactor.core.publisher.MonoFlatMap$FlatMapMain.onError(MonoFlatMap.java:180), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121), reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onError(FluxDoFinally.java:119), reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258), reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onError(FluxPeekFuseable.java:903), reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onError(Operators.java:2236), reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:544), reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222), reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134), reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106), reactor.core.publisher.Operators.error(Operators.java:198), reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:56), reactor.core.publisher.Mono.subscribe(Mono.java:4576), reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103), reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222), reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222), reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222), reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93), reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:205), reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124), reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:229), reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:279), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121), reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.maybeOnError(FluxConcatMapNoPrefetch.java:327), reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:212), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107), reactor.core.publisher.SinkManyEmitterProcessor.drain(SinkManyEmitterProcessor.java:476), reactor.core.publisher.SinkManyEmitterProcessor$EmitterInner.drainParent(SinkManyEmitterProcessor.java:620), reactor.core.publisher.FluxPublish$PubSubInner.request(FluxPublish.java:874), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136), reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:337), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136), reactor.core.publisher.Operators$DeferredSubscription.request(Operators.java:1743), reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:196), reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205), reactor.netty.http.client.HttpClientConnect$MonoHttpConnect$ClientTransportSubscriber.onError(HttpClientConnect.java:311), reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205), reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onError(DefaultPooledConnectionProvider.java:172), reactor.netty.internal.shaded.reactor.pool.AbstractPool$Borrower.fail(AbstractPool.java:480), reactor.netty.internal.shaded.reactor.pool.SimpleDequePool.lambda$drainLoop$9(SimpleDequePool.java:436), reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onError(FluxDoOnEach.java:186), reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205), reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer.onError(DefaultPooledConnectionProvider.java:583), reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241), reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315), reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106), reactor.core.publisher.Operators.error(Operators.java:198), reactor.core.publisher.MonoError.subscribe(MonoError.java:53), reactor.core.publisher.Mono.subscribe(Mono.java:4576), reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103), reactor.netty.transport.TransportConnector$MonoChannelPromise.tryFailure(TransportConnector.java:576), reactor.netty.transport.TransportConnector$MonoChannelPromise.setFailure(TransportConnector.java:522), reactor.netty.transport.TransportConnector.lambda$doConnect$7(TransportConnector.java:261), io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590), io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:583), io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:559), io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492), io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636), io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:629), io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:118), io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.fulfillConnectPromise(AbstractNioChannel.java:326), io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:342), io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776), io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724), io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650), io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562), io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997), io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74), io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30), java.base/java.lang.Thread.run(Thread.java:840)] 
2024-11-23T12:42:23.239+03:00  WARN 20532 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Failure in @ExceptionHandler com.suhareva.order_service.handler.OrderServiceExceptionHandler#catchException(Exception)

org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.springframework.http.HttpMethod]
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:489) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:114) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:297) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:432) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:74) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:175) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1358) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.TestDispatcherServlet.processHandlerException(TestDispatcherServlet.java:146) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1161) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.31.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72) ~[spring-test-6.1.14.jar:6.1.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.31.jar:6.0]
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201) ~[spring-test-6.1.14.jar:6.1.14]
	at com.suhareva.order_service.controller.OrderControllerTest.saveOrderShouldOrderNumber(OrderControllerTest.java:78) ~[test-classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728) ~[junit-platform-commons-1.10.5.jar:1.10.5]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57) ~[junit5-rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) ~[idea_rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) ~[junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235) ~[junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54) ~[junit-rt.jar:na]
Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.springframework.http.HttpMethod and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.suhareva.order_service.handler.ErrorMessage["errorCause"]->org.springframework.web.reactive.function.client.WebClientRequestException["method"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1330) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:414) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:53) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:30) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:183) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:183) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:502) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:341) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1574) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061) ~[jackson-databind-2.17.2.jar:2.17.2]
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:483) ~[spring-web-6.1.14.jar:6.1.14]
	... 106 common frames omitted

2024-11-23T12:42:23.356+03:00  INFO 20532 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-11-23T12:42:23.358+03:00  INFO 20532 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-11-23T12:43:48.926+03:00  INFO 5588 --- [main] c.s.o.controller.OrderControllerTest     : Starting OrderControllerTest using Java 17.0.13 with PID 5588 (started by ksuhareva in E:\TEST-TASK\order-sevice\order-sevice)
2024-11-23T12:43:48.928+03:00  INFO 5588 --- [main] c.s.o.controller.OrderControllerTest     : The following 1 profile is active: "test"
2024-11-23T12:43:50.649+03:00  INFO 5588 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2024-11-23T12:43:50.670+03:00  INFO 5588 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-11-23T12:43:50.671+03:00  INFO 5588 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-11-23T12:43:50.787+03:00  INFO 5588 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-11-23T12:43:50.787+03:00  INFO 5588 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1842 ms
2024-11-23T12:43:50.822+03:00  INFO 5588 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-11-23T12:43:51.037+03:00  INFO 5588 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2024-11-23T12:43:51.039+03:00  INFO 5588 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-11-23T12:43:51.054+03:00  INFO 5588 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2024-11-23T12:43:51.512+03:00  INFO 5588 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-11-23T12:43:52.124+03:00  INFO 5588 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-11-23T12:43:52.256+03:00  INFO 5588 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-11-23T12:43:52.348+03:00  INFO 5588 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-11-23T12:43:52.350+03:00  INFO 5588 --- [main] liquibase.command                        : Using deploymentId: 2355032349
2024-11-23T12:43:52.352+03:00  INFO 5588 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-11-23T12:43:52.395+03:00  INFO 5588 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/create_order_table.xml::Create table orders::suhareva
2024-11-23T12:43:52.410+03:00  INFO 5588 --- [main] liquibase.changelog                      : Table ORDERS created
2024-11-23T12:43:52.411+03:00  INFO 5588 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create_order_table.xml::Create table orders::suhareva ran successfully in 15ms
2024-11-23T12:43:52.420+03:00  INFO 5588 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/create_product_table.xml::Create table products::suhareva
2024-11-23T12:43:52.425+03:00  INFO 5588 --- [main] liquibase.changelog                      : Table PRODUCTS created
2024-11-23T12:43:52.425+03:00  INFO 5588 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create_product_table.xml::Create table products::suhareva ran successfully in 4ms
2024-11-23T12:43:52.433+03:00  INFO 5588 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/insert_into_order.xml::insert orders into orders table::suhareva
2024-11-23T12:43:52.437+03:00  INFO 5588 --- [main] liquibase.changelog                      : New row inserted into ORDERS
2024-11-23T12:43:52.440+03:00  INFO 5588 --- [main] liquibase.changelog                      : New row inserted into ORDERS
2024-11-23T12:43:52.441+03:00  INFO 5588 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert_into_order.xml::insert orders into orders table::suhareva ran successfully in 7ms
2024-11-23T12:43:52.449+03:00  INFO 5588 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/insert_into_product.xml::insert products into products table::suhareva
2024-11-23T12:43:52.451+03:00  INFO 5588 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T12:43:52.453+03:00  INFO 5588 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T12:43:52.455+03:00  INFO 5588 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T12:43:52.456+03:00  INFO 5588 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert_into_product.xml::insert products into products table::suhareva ran successfully in 7ms
2024-11-23T12:43:52.465+03:00  INFO 5588 --- [main] liquibase.util                           : UPDATE SUMMARY
2024-11-23T12:43:52.466+03:00  INFO 5588 --- [main] liquibase.util                           : Run:                          4
2024-11-23T12:43:52.466+03:00  INFO 5588 --- [main] liquibase.util                           : Previously run:               0
2024-11-23T12:43:52.466+03:00  INFO 5588 --- [main] liquibase.util                           : Filtered out:                 0
2024-11-23T12:43:52.466+03:00  INFO 5588 --- [main] liquibase.util                           : -------------------------------
2024-11-23T12:43:52.466+03:00  INFO 5588 --- [main] liquibase.util                           : Total change sets:            4
2024-11-23T12:43:52.469+03:00  INFO 5588 --- [main] liquibase.util                           : Update summary generated
2024-11-23T12:43:52.477+03:00  INFO 5588 --- [main] liquibase.command                        : Update command completed successfully.
2024-11-23T12:43:52.478+03:00  INFO 5588 --- [main] liquibase.ui                             : Liquibase: Update has been successful. Rows affected: 9
2024-11-23T12:43:52.480+03:00  INFO 5588 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-11-23T12:43:52.481+03:00  INFO 5588 --- [main] liquibase.command                        : Command execution complete
2024-11-23T12:43:53.148+03:00  INFO 5588 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2024-11-23T12:43:53.148+03:00  INFO 5588 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-11-23T12:43:53.150+03:00  INFO 5588 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2024-11-23T12:43:53.372+03:00  INFO 5588 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 54886 (http) with context path '/'
2024-11-23T12:43:53.386+03:00  INFO 5588 --- [main] c.s.o.controller.OrderControllerTest     : Started OrderControllerTest in 4.955 seconds (process running for 6.524)
2024-11-23T12:45:08.281+03:00  WARN 5588 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m17s135ms717µs200ns).
2024-11-23T12:45:10.103+03:00 ERROR 5588 --- [main] c.s.o.h.OrderServiceExceptionHandler     : Catch RetryExhaustedException with cause:[reactor.core.Exceptions.retryExhausted(Exceptions.java:308), reactor.util.retry.RetryBackoffSpec.lambda$static$0(RetryBackoffSpec.java:68), reactor.util.retry.RetryBackoffSpec.lambda$null$4(RetryBackoffSpec.java:560), reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:183), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107), reactor.core.publisher.SinkManyEmitterProcessor.drain(SinkManyEmitterProcessor.java:476), reactor.core.publisher.SinkManyEmitterProcessor.tryEmitNext(SinkManyEmitterProcessor.java:273), reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:100), reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27), reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:194), reactor.core.publisher.MonoFlatMap$FlatMapMain.onError(MonoFlatMap.java:180), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121), reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onError(FluxDoFinally.java:119), reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258), reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onError(FluxPeekFuseable.java:903), reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onError(Operators.java:2236), reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:544), reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222), reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134), reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106), reactor.core.publisher.Operators.error(Operators.java:198), reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:56), reactor.core.publisher.Mono.subscribe(Mono.java:4576), reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103), reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222), reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222), reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222), reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93), reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:205), reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124), reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:229), reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:279), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121), reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.maybeOnError(FluxConcatMapNoPrefetch.java:327), reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:212), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107), reactor.core.publisher.SinkManyEmitterProcessor.drain(SinkManyEmitterProcessor.java:476), reactor.core.publisher.SinkManyEmitterProcessor$EmitterInner.drainParent(SinkManyEmitterProcessor.java:620), reactor.core.publisher.FluxPublish$PubSubInner.request(FluxPublish.java:874), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136), reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:337), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136), reactor.core.publisher.Operators$DeferredSubscription.request(Operators.java:1743), reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:196), reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205), reactor.netty.http.client.HttpClientConnect$MonoHttpConnect$ClientTransportSubscriber.onError(HttpClientConnect.java:311), reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205), reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onError(DefaultPooledConnectionProvider.java:172), reactor.netty.internal.shaded.reactor.pool.AbstractPool$Borrower.fail(AbstractPool.java:480), reactor.netty.internal.shaded.reactor.pool.SimpleDequePool.lambda$drainLoop$9(SimpleDequePool.java:436), reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onError(FluxDoOnEach.java:186), reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205), reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer.onError(DefaultPooledConnectionProvider.java:583), reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241), reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315), reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106), reactor.core.publisher.Operators.error(Operators.java:198), reactor.core.publisher.MonoError.subscribe(MonoError.java:53), reactor.core.publisher.Mono.subscribe(Mono.java:4576), reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103), reactor.netty.transport.TransportConnector$MonoChannelPromise.tryFailure(TransportConnector.java:576), reactor.netty.transport.TransportConnector$MonoChannelPromise.setFailure(TransportConnector.java:522), reactor.netty.transport.TransportConnector.lambda$doConnect$7(TransportConnector.java:261), io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590), io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:583), io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:559), io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492), io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636), io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:629), io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:118), io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.fulfillConnectPromise(AbstractNioChannel.java:326), io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:342), io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776), io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724), io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650), io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562), io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997), io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74), io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30), java.base/java.lang.Thread.run(Thread.java:840)] 
2024-11-23T12:45:10.387+03:00  WARN 5588 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Failure in @ExceptionHandler com.suhareva.order_service.handler.OrderServiceExceptionHandler#catchException(Exception)

org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.springframework.http.HttpMethod]
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:489) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:114) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:297) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:432) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:74) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:175) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1358) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.TestDispatcherServlet.processHandlerException(TestDispatcherServlet.java:146) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1161) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.31.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72) ~[spring-test-6.1.14.jar:6.1.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.31.jar:6.0]
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201) ~[spring-test-6.1.14.jar:6.1.14]
	at com.suhareva.order_service.controller.OrderControllerTest.saveOrderShouldOrderNumber(OrderControllerTest.java:78) ~[test-classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728) ~[junit-platform-commons-1.10.5.jar:1.10.5]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57) ~[junit5-rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) ~[idea_rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) ~[junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235) ~[junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54) ~[junit-rt.jar:na]
Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.springframework.http.HttpMethod and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.suhareva.order_service.handler.ErrorMessage["errorCause"]->org.springframework.web.reactive.function.client.WebClientRequestException["method"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1330) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:414) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:53) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:30) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:183) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:183) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:502) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:341) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1574) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061) ~[jackson-databind-2.17.2.jar:2.17.2]
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:483) ~[spring-web-6.1.14.jar:6.1.14]
	... 106 common frames omitted

2024-11-23T12:45:10.947+03:00  INFO 5588 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-11-23T12:45:10.956+03:00  INFO 5588 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-11-23T13:13:42.666+03:00  INFO 22456 --- [main] c.s.o.controller.OrderControllerTest     : Starting OrderControllerTest using Java 17.0.13 with PID 22456 (started by ksuhareva in E:\TEST-TASK\order-sevice\order-sevice)
2024-11-23T13:13:42.667+03:00  INFO 22456 --- [main] c.s.o.controller.OrderControllerTest     : The following 1 profile is active: "test"
2024-11-23T13:13:44.160+03:00  INFO 22456 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2024-11-23T13:13:44.174+03:00  INFO 22456 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-11-23T13:13:44.174+03:00  INFO 22456 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-11-23T13:13:44.262+03:00  INFO 22456 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-11-23T13:13:44.263+03:00  INFO 22456 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1584 ms
2024-11-23T13:13:44.307+03:00  INFO 22456 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-11-23T13:13:44.509+03:00  INFO 22456 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2024-11-23T13:13:44.511+03:00  INFO 22456 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-11-23T13:13:44.522+03:00  INFO 22456 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2024-11-23T13:13:44.946+03:00  INFO 22456 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-11-23T13:13:45.459+03:00  INFO 22456 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-11-23T13:13:45.555+03:00  INFO 22456 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-11-23T13:13:45.635+03:00  INFO 22456 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-11-23T13:13:45.636+03:00  INFO 22456 --- [main] liquibase.command                        : Using deploymentId: 2356825636
2024-11-23T13:13:45.638+03:00  INFO 22456 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-11-23T13:13:45.679+03:00  INFO 22456 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/create_order_table.xml::Create table orders::suhareva
2024-11-23T13:13:45.691+03:00  INFO 22456 --- [main] liquibase.changelog                      : Table ORDERS created
2024-11-23T13:13:45.692+03:00  INFO 22456 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create_order_table.xml::Create table orders::suhareva ran successfully in 12ms
2024-11-23T13:13:45.699+03:00  INFO 22456 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/create_product_table.xml::Create table products::suhareva
2024-11-23T13:13:45.701+03:00  INFO 22456 --- [main] liquibase.changelog                      : Table PRODUCTS created
2024-11-23T13:13:45.702+03:00  INFO 22456 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create_product_table.xml::Create table products::suhareva ran successfully in 3ms
2024-11-23T13:13:45.708+03:00  INFO 22456 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/insert_into_order.xml::insert orders into orders table::suhareva
2024-11-23T13:13:45.710+03:00  INFO 22456 --- [main] liquibase.changelog                      : New row inserted into ORDERS
2024-11-23T13:13:45.714+03:00  INFO 22456 --- [main] liquibase.changelog                      : New row inserted into ORDERS
2024-11-23T13:13:45.714+03:00  INFO 22456 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert_into_order.xml::insert orders into orders table::suhareva ran successfully in 6ms
2024-11-23T13:13:45.718+03:00  INFO 22456 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/insert_into_product.xml::insert products into products table::suhareva
2024-11-23T13:13:45.720+03:00  INFO 22456 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T13:13:45.722+03:00  INFO 22456 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T13:13:45.723+03:00  INFO 22456 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T13:13:45.723+03:00  INFO 22456 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert_into_product.xml::insert products into products table::suhareva ran successfully in 4ms
2024-11-23T13:13:45.732+03:00  INFO 22456 --- [main] liquibase.util                           : UPDATE SUMMARY
2024-11-23T13:13:45.733+03:00  INFO 22456 --- [main] liquibase.util                           : Run:                          4
2024-11-23T13:13:45.733+03:00  INFO 22456 --- [main] liquibase.util                           : Previously run:               0
2024-11-23T13:13:45.733+03:00  INFO 22456 --- [main] liquibase.util                           : Filtered out:                 0
2024-11-23T13:13:45.733+03:00  INFO 22456 --- [main] liquibase.util                           : -------------------------------
2024-11-23T13:13:45.733+03:00  INFO 22456 --- [main] liquibase.util                           : Total change sets:            4
2024-11-23T13:13:45.735+03:00  INFO 22456 --- [main] liquibase.util                           : Update summary generated
2024-11-23T13:13:45.738+03:00  INFO 22456 --- [main] liquibase.command                        : Update command completed successfully.
2024-11-23T13:13:45.739+03:00  INFO 22456 --- [main] liquibase.ui                             : Liquibase: Update has been successful. Rows affected: 9
2024-11-23T13:13:45.740+03:00  INFO 22456 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-11-23T13:13:45.741+03:00  INFO 22456 --- [main] liquibase.command                        : Command execution complete
2024-11-23T13:13:46.341+03:00  INFO 22456 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2024-11-23T13:13:46.342+03:00  INFO 22456 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-11-23T13:13:46.343+03:00  INFO 22456 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-11-23T13:13:46.545+03:00  INFO 22456 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 56128 (http) with context path '/'
2024-11-23T13:13:46.558+03:00  INFO 22456 --- [main] c.s.o.controller.OrderControllerTest     : Started OrderControllerTest in 4.355 seconds (process running for 5.689)
2024-11-23T13:13:47.558+03:00 ERROR 22456 --- [main] c.s.o.h.OrderServiceExceptionHandler     : Catch NoResourceFoundException with cause:[org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585), org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014), org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914), jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885), org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72), jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658), org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165), org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132), org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151), org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132), org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151), org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132), org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151), org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132), org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201), com.suhareva.order_service.controller.OrderControllerTest.saveOrderShouldOrderNumber(OrderControllerTest.java:73), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:569), org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728), org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60), org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131), org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156), org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147), org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86), org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103), org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93), org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106), org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64), org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45), org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37), org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92), org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86), org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218), org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73), org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214), org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139), org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69), org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156), org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73), org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146), org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137), org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144), org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73), org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143), org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100), java.base/java.util.ArrayList.forEach(ArrayList.java:1511), org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41), org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160), org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73), org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146), org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137), org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144), org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73), org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143), org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100), java.base/java.util.ArrayList.forEach(ArrayList.java:1511), org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41), org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160), org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73), org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146), org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137), org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144), org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73), org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143), org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100), org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35), org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57), org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54), org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198), org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169), org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93), org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58), org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141), org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57), org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103), org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85), org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47), org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63), com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57), com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38), com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11), com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35), com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235), com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)]
2024-11-23T13:13:47.714+03:00  INFO 22456 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-11-23T13:13:47.717+03:00  INFO 22456 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-11-23T13:14:55.105+03:00  INFO 4720 --- [main] c.s.o.controller.OrderControllerTest     : Starting OrderControllerTest using Java 17.0.13 with PID 4720 (started by ksuhareva in E:\TEST-TASK\order-sevice\order-sevice)
2024-11-23T13:14:55.107+03:00  INFO 4720 --- [main] c.s.o.controller.OrderControllerTest     : The following 1 profile is active: "test"
2024-11-23T13:14:56.588+03:00  INFO 4720 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2024-11-23T13:14:56.602+03:00  INFO 4720 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-11-23T13:14:56.603+03:00  INFO 4720 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-11-23T13:14:56.697+03:00  INFO 4720 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-11-23T13:14:56.697+03:00  INFO 4720 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1577 ms
2024-11-23T13:14:56.731+03:00  INFO 4720 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-11-23T13:14:56.931+03:00  INFO 4720 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2024-11-23T13:14:56.933+03:00  INFO 4720 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-11-23T13:14:56.945+03:00  INFO 4720 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2024-11-23T13:14:57.377+03:00  INFO 4720 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-11-23T13:14:57.911+03:00  INFO 4720 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-11-23T13:14:58.015+03:00  INFO 4720 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-11-23T13:14:58.104+03:00  INFO 4720 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-11-23T13:14:58.105+03:00  INFO 4720 --- [main] liquibase.command                        : Using deploymentId: 2356898105
2024-11-23T13:14:58.107+03:00  INFO 4720 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-11-23T13:14:58.141+03:00  INFO 4720 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/create_order_table.xml::Create table orders::suhareva
2024-11-23T13:14:58.154+03:00  INFO 4720 --- [main] liquibase.changelog                      : Table ORDERS created
2024-11-23T13:14:58.155+03:00  INFO 4720 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create_order_table.xml::Create table orders::suhareva ran successfully in 13ms
2024-11-23T13:14:58.165+03:00  INFO 4720 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/create_product_table.xml::Create table products::suhareva
2024-11-23T13:14:58.169+03:00  INFO 4720 --- [main] liquibase.changelog                      : Table PRODUCTS created
2024-11-23T13:14:58.170+03:00  INFO 4720 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create_product_table.xml::Create table products::suhareva ran successfully in 5ms
2024-11-23T13:14:58.179+03:00  INFO 4720 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/insert_into_order.xml::insert orders into orders table::suhareva
2024-11-23T13:14:58.182+03:00  INFO 4720 --- [main] liquibase.changelog                      : New row inserted into ORDERS
2024-11-23T13:14:58.186+03:00  INFO 4720 --- [main] liquibase.changelog                      : New row inserted into ORDERS
2024-11-23T13:14:58.186+03:00  INFO 4720 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert_into_order.xml::insert orders into orders table::suhareva ran successfully in 7ms
2024-11-23T13:14:58.191+03:00  INFO 4720 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/insert_into_product.xml::insert products into products table::suhareva
2024-11-23T13:14:58.193+03:00  INFO 4720 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T13:14:58.195+03:00  INFO 4720 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T13:14:58.196+03:00  INFO 4720 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T13:14:58.197+03:00  INFO 4720 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert_into_product.xml::insert products into products table::suhareva ran successfully in 5ms
2024-11-23T13:14:58.205+03:00  INFO 4720 --- [main] liquibase.util                           : UPDATE SUMMARY
2024-11-23T13:14:58.205+03:00  INFO 4720 --- [main] liquibase.util                           : Run:                          4
2024-11-23T13:14:58.205+03:00  INFO 4720 --- [main] liquibase.util                           : Previously run:               0
2024-11-23T13:14:58.206+03:00  INFO 4720 --- [main] liquibase.util                           : Filtered out:                 0
2024-11-23T13:14:58.206+03:00  INFO 4720 --- [main] liquibase.util                           : -------------------------------
2024-11-23T13:14:58.206+03:00  INFO 4720 --- [main] liquibase.util                           : Total change sets:            4
2024-11-23T13:14:58.208+03:00  INFO 4720 --- [main] liquibase.util                           : Update summary generated
2024-11-23T13:14:58.212+03:00  INFO 4720 --- [main] liquibase.command                        : Update command completed successfully.
2024-11-23T13:14:58.212+03:00  INFO 4720 --- [main] liquibase.ui                             : Liquibase: Update has been successful. Rows affected: 9
2024-11-23T13:14:58.214+03:00  INFO 4720 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-11-23T13:14:58.215+03:00  INFO 4720 --- [main] liquibase.command                        : Command execution complete
2024-11-23T13:14:58.847+03:00  INFO 4720 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2024-11-23T13:14:58.847+03:00  INFO 4720 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-11-23T13:14:58.848+03:00  INFO 4720 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-11-23T13:14:59.061+03:00  INFO 4720 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 56156 (http) with context path '/'
2024-11-23T13:14:59.073+03:00  INFO 4720 --- [main] c.s.o.controller.OrderControllerTest     : Started OrderControllerTest in 4.414 seconds (process running for 5.735)
2024-11-23T13:15:00.041+03:00 ERROR 4720 --- [main] c.s.o.h.OrderServiceExceptionHandler     : Catch NoResourceFoundException with cause:[org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585), org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52), org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089), org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979), org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014), org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914), jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590), org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885), org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72), jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658), org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165), org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132), org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151), org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132), org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151), org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132), org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201), org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116), org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151), org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132), org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201), com.suhareva.order_service.controller.OrderControllerTest.saveOrderShouldOrderNumber(OrderControllerTest.java:73), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:569), org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728), org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60), org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131), org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156), org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147), org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86), org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103), org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93), org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106), org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64), org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45), org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37), org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92), org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86), org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218), org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73), org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214), org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139), org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69), org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156), org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73), org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146), org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137), org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144), org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73), org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143), org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100), java.base/java.util.ArrayList.forEach(ArrayList.java:1511), org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41), org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160), org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73), org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146), org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137), org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144), org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73), org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143), org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100), java.base/java.util.ArrayList.forEach(ArrayList.java:1511), org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41), org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160), org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73), org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146), org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137), org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144), org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73), org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143), org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100), org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35), org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57), org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54), org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198), org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169), org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93), org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58), org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141), org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57), org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103), org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85), org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47), org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63), com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57), com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38), com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11), com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35), com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235), com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)]
2024-11-23T13:15:00.202+03:00  INFO 4720 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-11-23T13:15:00.206+03:00  INFO 4720 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-11-23T13:15:29.728+03:00  INFO 20956 --- [main] c.s.o.controller.OrderControllerTest     : Starting OrderControllerTest using Java 17.0.13 with PID 20956 (started by ksuhareva in E:\TEST-TASK\order-sevice\order-sevice)
2024-11-23T13:15:29.730+03:00  INFO 20956 --- [main] c.s.o.controller.OrderControllerTest     : The following 1 profile is active: "test"
2024-11-23T13:15:31.233+03:00  INFO 20956 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2024-11-23T13:15:31.248+03:00  INFO 20956 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-11-23T13:15:31.248+03:00  INFO 20956 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-11-23T13:15:31.343+03:00  INFO 20956 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-11-23T13:15:31.343+03:00  INFO 20956 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1601 ms
2024-11-23T13:15:31.379+03:00  INFO 20956 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-11-23T13:15:31.579+03:00  INFO 20956 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2024-11-23T13:15:31.582+03:00  INFO 20956 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-11-23T13:15:31.595+03:00  INFO 20956 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2024-11-23T13:15:32.015+03:00  INFO 20956 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-11-23T13:15:32.525+03:00  INFO 20956 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-11-23T13:15:32.638+03:00  INFO 20956 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-11-23T13:15:32.716+03:00  INFO 20956 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-11-23T13:15:32.717+03:00  INFO 20956 --- [main] liquibase.command                        : Using deploymentId: 2356932717
2024-11-23T13:15:32.719+03:00  INFO 20956 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-11-23T13:15:32.753+03:00  INFO 20956 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/create_order_table.xml::Create table orders::suhareva
2024-11-23T13:15:32.765+03:00  INFO 20956 --- [main] liquibase.changelog                      : Table ORDERS created
2024-11-23T13:15:32.765+03:00  INFO 20956 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create_order_table.xml::Create table orders::suhareva ran successfully in 11ms
2024-11-23T13:15:32.773+03:00  INFO 20956 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/create_product_table.xml::Create table products::suhareva
2024-11-23T13:15:32.776+03:00  INFO 20956 --- [main] liquibase.changelog                      : Table PRODUCTS created
2024-11-23T13:15:32.776+03:00  INFO 20956 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create_product_table.xml::Create table products::suhareva ran successfully in 3ms
2024-11-23T13:15:32.784+03:00  INFO 20956 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/insert_into_order.xml::insert orders into orders table::suhareva
2024-11-23T13:15:32.786+03:00  INFO 20956 --- [main] liquibase.changelog                      : New row inserted into ORDERS
2024-11-23T13:15:32.788+03:00  INFO 20956 --- [main] liquibase.changelog                      : New row inserted into ORDERS
2024-11-23T13:15:32.789+03:00  INFO 20956 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert_into_order.xml::insert orders into orders table::suhareva ran successfully in 5ms
2024-11-23T13:15:32.795+03:00  INFO 20956 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/insert_into_product.xml::insert products into products table::suhareva
2024-11-23T13:15:32.798+03:00  INFO 20956 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T13:15:32.799+03:00  INFO 20956 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T13:15:32.801+03:00  INFO 20956 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T13:15:32.802+03:00  INFO 20956 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert_into_product.xml::insert products into products table::suhareva ran successfully in 7ms
2024-11-23T13:15:32.811+03:00  INFO 20956 --- [main] liquibase.util                           : UPDATE SUMMARY
2024-11-23T13:15:32.811+03:00  INFO 20956 --- [main] liquibase.util                           : Run:                          4
2024-11-23T13:15:32.812+03:00  INFO 20956 --- [main] liquibase.util                           : Previously run:               0
2024-11-23T13:15:32.812+03:00  INFO 20956 --- [main] liquibase.util                           : Filtered out:                 0
2024-11-23T13:15:32.812+03:00  INFO 20956 --- [main] liquibase.util                           : -------------------------------
2024-11-23T13:15:32.812+03:00  INFO 20956 --- [main] liquibase.util                           : Total change sets:            4
2024-11-23T13:15:32.814+03:00  INFO 20956 --- [main] liquibase.util                           : Update summary generated
2024-11-23T13:15:32.820+03:00  INFO 20956 --- [main] liquibase.command                        : Update command completed successfully.
2024-11-23T13:15:32.820+03:00  INFO 20956 --- [main] liquibase.ui                             : Liquibase: Update has been successful. Rows affected: 9
2024-11-23T13:15:32.822+03:00  INFO 20956 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-11-23T13:15:32.823+03:00  INFO 20956 --- [main] liquibase.command                        : Command execution complete
2024-11-23T13:15:33.430+03:00  INFO 20956 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2024-11-23T13:15:33.430+03:00  INFO 20956 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-11-23T13:15:33.432+03:00  INFO 20956 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-11-23T13:15:33.645+03:00  INFO 20956 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 56171 (http) with context path '/'
2024-11-23T13:15:33.657+03:00  INFO 20956 --- [main] c.s.o.controller.OrderControllerTest     : Started OrderControllerTest in 4.41 seconds (process running for 5.717)
2024-11-23T13:15:35.224+03:00  INFO 20956 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-11-23T13:15:35.230+03:00  INFO 20956 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-11-23T13:31:50.941+03:00  INFO 15228 --- [main] c.s.o.controller.OrderControllerTest     : Starting OrderControllerTest using Java 17.0.13 with PID 15228 (started by ksuhareva in E:\TEST-TASK\order-sevice\order-sevice)
2024-11-23T13:31:50.943+03:00  INFO 15228 --- [main] c.s.o.controller.OrderControllerTest     : The following 1 profile is active: "test"
2024-11-23T13:31:52.543+03:00  INFO 15228 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2024-11-23T13:31:52.562+03:00  INFO 15228 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-11-23T13:31:52.562+03:00  INFO 15228 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-11-23T13:31:52.666+03:00  INFO 15228 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-11-23T13:31:52.666+03:00  INFO 15228 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1710 ms
2024-11-23T13:31:52.705+03:00  INFO 15228 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-11-23T13:31:52.903+03:00  INFO 15228 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2024-11-23T13:31:52.905+03:00  INFO 15228 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-11-23T13:31:52.917+03:00  INFO 15228 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2024-11-23T13:31:53.336+03:00  INFO 15228 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-11-23T13:31:53.815+03:00  INFO 15228 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-11-23T13:31:53.917+03:00  INFO 15228 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-11-23T13:31:54.000+03:00  INFO 15228 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-11-23T13:31:54.002+03:00  INFO 15228 --- [main] liquibase.command                        : Using deploymentId: 2357914001
2024-11-23T13:31:54.004+03:00  INFO 15228 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-11-23T13:31:54.044+03:00  INFO 15228 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/create_order_table.xml::Create table orders::suhareva
2024-11-23T13:31:54.057+03:00  INFO 15228 --- [main] liquibase.changelog                      : Table ORDERS created
2024-11-23T13:31:54.058+03:00  INFO 15228 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create_order_table.xml::Create table orders::suhareva ran successfully in 13ms
2024-11-23T13:31:54.067+03:00  INFO 15228 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/create_product_table.xml::Create table products::suhareva
2024-11-23T13:31:54.071+03:00  INFO 15228 --- [main] liquibase.changelog                      : Table PRODUCTS created
2024-11-23T13:31:54.071+03:00  INFO 15228 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create_product_table.xml::Create table products::suhareva ran successfully in 3ms
2024-11-23T13:31:54.079+03:00  INFO 15228 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/insert_into_order.xml::insert orders into orders table::suhareva
2024-11-23T13:31:54.082+03:00  INFO 15228 --- [main] liquibase.changelog                      : New row inserted into ORDERS
2024-11-23T13:31:54.086+03:00  INFO 15228 --- [main] liquibase.changelog                      : New row inserted into ORDERS
2024-11-23T13:31:54.086+03:00  INFO 15228 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert_into_order.xml::insert orders into orders table::suhareva ran successfully in 7ms
2024-11-23T13:31:54.092+03:00  INFO 15228 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/insert_into_product.xml::insert products into products table::suhareva
2024-11-23T13:31:54.095+03:00  INFO 15228 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T13:31:54.096+03:00  INFO 15228 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T13:31:54.098+03:00  INFO 15228 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T13:31:54.098+03:00  INFO 15228 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert_into_product.xml::insert products into products table::suhareva ran successfully in 5ms
2024-11-23T13:31:54.107+03:00  INFO 15228 --- [main] liquibase.util                           : UPDATE SUMMARY
2024-11-23T13:31:54.108+03:00  INFO 15228 --- [main] liquibase.util                           : Run:                          4
2024-11-23T13:31:54.108+03:00  INFO 15228 --- [main] liquibase.util                           : Previously run:               0
2024-11-23T13:31:54.108+03:00  INFO 15228 --- [main] liquibase.util                           : Filtered out:                 0
2024-11-23T13:31:54.108+03:00  INFO 15228 --- [main] liquibase.util                           : -------------------------------
2024-11-23T13:31:54.109+03:00  INFO 15228 --- [main] liquibase.util                           : Total change sets:            4
2024-11-23T13:31:54.110+03:00  INFO 15228 --- [main] liquibase.util                           : Update summary generated
2024-11-23T13:31:54.115+03:00  INFO 15228 --- [main] liquibase.command                        : Update command completed successfully.
2024-11-23T13:31:54.115+03:00  INFO 15228 --- [main] liquibase.ui                             : Liquibase: Update has been successful. Rows affected: 9
2024-11-23T13:31:54.117+03:00  INFO 15228 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-11-23T13:31:54.118+03:00  INFO 15228 --- [main] liquibase.command                        : Command execution complete
2024-11-23T13:31:54.767+03:00  INFO 15228 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2024-11-23T13:31:54.768+03:00  INFO 15228 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-11-23T13:31:54.769+03:00  INFO 15228 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-11-23T13:31:54.971+03:00  INFO 15228 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 56468 (http) with context path '/'
2024-11-23T13:31:54.985+03:00  INFO 15228 --- [main] c.s.o.controller.OrderControllerTest     : Started OrderControllerTest in 4.482 seconds (process running for 5.821)
2024-11-23T13:31:56.615+03:00  INFO 15228 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-11-23T13:31:56.618+03:00  INFO 15228 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-11-23T13:33:32.103+03:00  INFO 14660 --- [main] c.s.o.controller.OrderControllerTest     : Starting OrderControllerTest using Java 17.0.13 with PID 14660 (started by ksuhareva in E:\TEST-TASK\order-sevice\order-sevice)
2024-11-23T13:33:32.105+03:00  INFO 14660 --- [main] c.s.o.controller.OrderControllerTest     : The following 1 profile is active: "test"
2024-11-23T13:33:33.646+03:00  INFO 14660 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2024-11-23T13:33:33.658+03:00  INFO 14660 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-11-23T13:33:33.658+03:00  INFO 14660 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-11-23T13:33:33.750+03:00  INFO 14660 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-11-23T13:33:33.750+03:00  INFO 14660 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1630 ms
2024-11-23T13:33:33.798+03:00  INFO 14660 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-11-23T13:33:34.200+03:00  INFO 14660 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2024-11-23T13:33:34.202+03:00  INFO 14660 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-11-23T13:33:34.218+03:00  INFO 14660 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2024-11-23T13:33:34.638+03:00  INFO 14660 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-11-23T13:33:35.155+03:00  INFO 14660 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-11-23T13:33:35.281+03:00  INFO 14660 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-11-23T13:33:35.355+03:00  INFO 14660 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-11-23T13:33:35.357+03:00  INFO 14660 --- [main] liquibase.command                        : Using deploymentId: 2358015357
2024-11-23T13:33:35.359+03:00  INFO 14660 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-11-23T13:33:35.393+03:00  INFO 14660 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/create_order_table.xml::Create table orders::suhareva
2024-11-23T13:33:35.405+03:00  INFO 14660 --- [main] liquibase.changelog                      : Table ORDERS created
2024-11-23T13:33:35.406+03:00  INFO 14660 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create_order_table.xml::Create table orders::suhareva ran successfully in 11ms
2024-11-23T13:33:35.412+03:00  INFO 14660 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/create_product_table.xml::Create table products::suhareva
2024-11-23T13:33:35.415+03:00  INFO 14660 --- [main] liquibase.changelog                      : Table PRODUCTS created
2024-11-23T13:33:35.415+03:00  INFO 14660 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create_product_table.xml::Create table products::suhareva ran successfully in 3ms
2024-11-23T13:33:35.422+03:00  INFO 14660 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/insert_into_order.xml::insert orders into orders table::suhareva
2024-11-23T13:33:35.425+03:00  INFO 14660 --- [main] liquibase.changelog                      : New row inserted into ORDERS
2024-11-23T13:33:35.428+03:00  INFO 14660 --- [main] liquibase.changelog                      : New row inserted into ORDERS
2024-11-23T13:33:35.428+03:00  INFO 14660 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert_into_order.xml::insert orders into orders table::suhareva ran successfully in 5ms
2024-11-23T13:33:35.434+03:00  INFO 14660 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/insert_into_product.xml::insert products into products table::suhareva
2024-11-23T13:33:35.436+03:00  INFO 14660 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T13:33:35.437+03:00  INFO 14660 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T13:33:35.438+03:00  INFO 14660 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T13:33:35.439+03:00  INFO 14660 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert_into_product.xml::insert products into products table::suhareva ran successfully in 5ms
2024-11-23T13:33:35.447+03:00  INFO 14660 --- [main] liquibase.util                           : UPDATE SUMMARY
2024-11-23T13:33:35.447+03:00  INFO 14660 --- [main] liquibase.util                           : Run:                          4
2024-11-23T13:33:35.447+03:00  INFO 14660 --- [main] liquibase.util                           : Previously run:               0
2024-11-23T13:33:35.447+03:00  INFO 14660 --- [main] liquibase.util                           : Filtered out:                 0
2024-11-23T13:33:35.447+03:00  INFO 14660 --- [main] liquibase.util                           : -------------------------------
2024-11-23T13:33:35.448+03:00  INFO 14660 --- [main] liquibase.util                           : Total change sets:            4
2024-11-23T13:33:35.448+03:00  INFO 14660 --- [main] liquibase.util                           : Update summary generated
2024-11-23T13:33:35.452+03:00  INFO 14660 --- [main] liquibase.command                        : Update command completed successfully.
2024-11-23T13:33:35.452+03:00  INFO 14660 --- [main] liquibase.ui                             : Liquibase: Update has been successful. Rows affected: 9
2024-11-23T13:33:35.455+03:00  INFO 14660 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-11-23T13:33:35.456+03:00  INFO 14660 --- [main] liquibase.command                        : Command execution complete
2024-11-23T13:33:36.073+03:00  INFO 14660 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2024-11-23T13:33:36.073+03:00  INFO 14660 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-11-23T13:33:36.074+03:00  INFO 14660 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-11-23T13:33:36.282+03:00  INFO 14660 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 56495 (http) with context path '/'
2024-11-23T13:33:36.295+03:00  INFO 14660 --- [main] c.s.o.controller.OrderControllerTest     : Started OrderControllerTest in 4.692 seconds (process running for 5.963)
2024-11-23T13:33:37.813+03:00  INFO 14660 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-11-23T13:33:37.817+03:00  INFO 14660 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-11-23T13:34:34.799+03:00  INFO 22928 --- [main] c.s.o.controller.OrderControllerTest     : Starting OrderControllerTest using Java 17.0.13 with PID 22928 (started by ksuhareva in E:\TEST-TASK\order-sevice\order-sevice)
2024-11-23T13:34:34.800+03:00  INFO 22928 --- [main] c.s.o.controller.OrderControllerTest     : The following 1 profile is active: "test"
2024-11-23T13:34:36.330+03:00  INFO 22928 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2024-11-23T13:34:36.344+03:00  INFO 22928 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-11-23T13:34:36.345+03:00  INFO 22928 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-11-23T13:34:36.456+03:00  INFO 22928 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-11-23T13:34:36.457+03:00  INFO 22928 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1641 ms
2024-11-23T13:34:36.497+03:00  INFO 22928 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-11-23T13:34:36.714+03:00  INFO 22928 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2024-11-23T13:34:36.716+03:00  INFO 22928 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-11-23T13:34:36.728+03:00  INFO 22928 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2024-11-23T13:34:37.147+03:00  INFO 22928 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-11-23T13:34:37.667+03:00  INFO 22928 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-11-23T13:34:37.775+03:00  INFO 22928 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-11-23T13:34:37.860+03:00  INFO 22928 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-11-23T13:34:37.861+03:00  INFO 22928 --- [main] liquibase.command                        : Using deploymentId: 2358077861
2024-11-23T13:34:37.864+03:00  INFO 22928 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-11-23T13:34:37.902+03:00  INFO 22928 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/create_order_table.xml::Create table orders::suhareva
2024-11-23T13:34:37.913+03:00  INFO 22928 --- [main] liquibase.changelog                      : Table ORDERS created
2024-11-23T13:34:37.914+03:00  INFO 22928 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create_order_table.xml::Create table orders::suhareva ran successfully in 11ms
2024-11-23T13:34:37.921+03:00  INFO 22928 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/create_product_table.xml::Create table products::suhareva
2024-11-23T13:34:37.925+03:00  INFO 22928 --- [main] liquibase.changelog                      : Table PRODUCTS created
2024-11-23T13:34:37.925+03:00  INFO 22928 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create_product_table.xml::Create table products::suhareva ran successfully in 4ms
2024-11-23T13:34:37.931+03:00  INFO 22928 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/insert_into_order.xml::insert orders into orders table::suhareva
2024-11-23T13:34:37.934+03:00  INFO 22928 --- [main] liquibase.changelog                      : New row inserted into ORDERS
2024-11-23T13:34:37.938+03:00  INFO 22928 --- [main] liquibase.changelog                      : New row inserted into ORDERS
2024-11-23T13:34:37.938+03:00  INFO 22928 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert_into_order.xml::insert orders into orders table::suhareva ran successfully in 7ms
2024-11-23T13:34:37.943+03:00  INFO 22928 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/insert_into_product.xml::insert products into products table::suhareva
2024-11-23T13:34:37.946+03:00  INFO 22928 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T13:34:37.947+03:00  INFO 22928 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T13:34:37.949+03:00  INFO 22928 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T13:34:37.949+03:00  INFO 22928 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert_into_product.xml::insert products into products table::suhareva ran successfully in 5ms
2024-11-23T13:34:37.958+03:00  INFO 22928 --- [main] liquibase.util                           : UPDATE SUMMARY
2024-11-23T13:34:37.959+03:00  INFO 22928 --- [main] liquibase.util                           : Run:                          4
2024-11-23T13:34:37.959+03:00  INFO 22928 --- [main] liquibase.util                           : Previously run:               0
2024-11-23T13:34:37.959+03:00  INFO 22928 --- [main] liquibase.util                           : Filtered out:                 0
2024-11-23T13:34:37.959+03:00  INFO 22928 --- [main] liquibase.util                           : -------------------------------
2024-11-23T13:34:37.959+03:00  INFO 22928 --- [main] liquibase.util                           : Total change sets:            4
2024-11-23T13:34:37.960+03:00  INFO 22928 --- [main] liquibase.util                           : Update summary generated
2024-11-23T13:34:37.965+03:00  INFO 22928 --- [main] liquibase.command                        : Update command completed successfully.
2024-11-23T13:34:37.966+03:00  INFO 22928 --- [main] liquibase.ui                             : Liquibase: Update has been successful. Rows affected: 9
2024-11-23T13:34:37.967+03:00  INFO 22928 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-11-23T13:34:37.968+03:00  INFO 22928 --- [main] liquibase.command                        : Command execution complete
2024-11-23T13:34:38.663+03:00  INFO 22928 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2024-11-23T13:34:38.664+03:00  INFO 22928 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-11-23T13:34:38.666+03:00  INFO 22928 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-11-23T13:34:38.878+03:00  INFO 22928 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 56523 (http) with context path '/'
2024-11-23T13:34:38.893+03:00  INFO 22928 --- [main] c.s.o.controller.OrderControllerTest     : Started OrderControllerTest in 4.553 seconds (process running for 5.91)
2024-11-23T13:34:40.771+03:00  INFO 22928 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-11-23T13:34:40.774+03:00  INFO 22928 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-11-23T13:36:24.334+03:00  INFO 12136 --- [main] c.s.o.controller.OrderControllerTest     : Starting OrderControllerTest using Java 17.0.13 with PID 12136 (started by ksuhareva in E:\TEST-TASK\order-sevice\order-sevice)
2024-11-23T13:36:24.336+03:00  INFO 12136 --- [main] c.s.o.controller.OrderControllerTest     : The following 1 profile is active: "test"
2024-11-23T13:36:25.785+03:00  INFO 12136 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2024-11-23T13:36:25.800+03:00  INFO 12136 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-11-23T13:36:25.800+03:00  INFO 12136 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-11-23T13:36:25.876+03:00  INFO 12136 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-11-23T13:36:25.876+03:00  INFO 12136 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1527 ms
2024-11-23T13:36:25.921+03:00  INFO 12136 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-11-23T13:36:26.113+03:00  INFO 12136 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2024-11-23T13:36:26.115+03:00  INFO 12136 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-11-23T13:36:26.128+03:00  INFO 12136 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2024-11-23T13:36:26.554+03:00  INFO 12136 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-11-23T13:36:27.064+03:00  INFO 12136 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-11-23T13:36:27.166+03:00  INFO 12136 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-11-23T13:36:27.257+03:00  INFO 12136 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-11-23T13:36:27.259+03:00  INFO 12136 --- [main] liquibase.command                        : Using deploymentId: 2358187259
2024-11-23T13:36:27.261+03:00  INFO 12136 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-11-23T13:36:27.296+03:00  INFO 12136 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/create_order_table.xml::Create table orders::suhareva
2024-11-23T13:36:27.309+03:00  INFO 12136 --- [main] liquibase.changelog                      : Table ORDERS created
2024-11-23T13:36:27.310+03:00  INFO 12136 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create_order_table.xml::Create table orders::suhareva ran successfully in 12ms
2024-11-23T13:36:27.316+03:00  INFO 12136 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/create_product_table.xml::Create table products::suhareva
2024-11-23T13:36:27.321+03:00  INFO 12136 --- [main] liquibase.changelog                      : Table PRODUCTS created
2024-11-23T13:36:27.321+03:00  INFO 12136 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create_product_table.xml::Create table products::suhareva ran successfully in 4ms
2024-11-23T13:36:27.328+03:00  INFO 12136 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/insert_into_order.xml::insert orders into orders table::suhareva
2024-11-23T13:36:27.332+03:00  INFO 12136 --- [main] liquibase.changelog                      : New row inserted into ORDERS
2024-11-23T13:36:27.335+03:00  INFO 12136 --- [main] liquibase.changelog                      : New row inserted into ORDERS
2024-11-23T13:36:27.335+03:00  INFO 12136 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert_into_order.xml::insert orders into orders table::suhareva ran successfully in 7ms
2024-11-23T13:36:27.340+03:00  INFO 12136 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/insert_into_product.xml::insert products into products table::suhareva
2024-11-23T13:36:27.342+03:00  INFO 12136 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T13:36:27.343+03:00  INFO 12136 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T13:36:27.345+03:00  INFO 12136 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T13:36:27.345+03:00  INFO 12136 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert_into_product.xml::insert products into products table::suhareva ran successfully in 5ms
2024-11-23T13:36:27.354+03:00  INFO 12136 --- [main] liquibase.util                           : UPDATE SUMMARY
2024-11-23T13:36:27.355+03:00  INFO 12136 --- [main] liquibase.util                           : Run:                          4
2024-11-23T13:36:27.355+03:00  INFO 12136 --- [main] liquibase.util                           : Previously run:               0
2024-11-23T13:36:27.355+03:00  INFO 12136 --- [main] liquibase.util                           : Filtered out:                 0
2024-11-23T13:36:27.355+03:00  INFO 12136 --- [main] liquibase.util                           : -------------------------------
2024-11-23T13:36:27.355+03:00  INFO 12136 --- [main] liquibase.util                           : Total change sets:            4
2024-11-23T13:36:27.356+03:00  INFO 12136 --- [main] liquibase.util                           : Update summary generated
2024-11-23T13:36:27.360+03:00  INFO 12136 --- [main] liquibase.command                        : Update command completed successfully.
2024-11-23T13:36:27.361+03:00  INFO 12136 --- [main] liquibase.ui                             : Liquibase: Update has been successful. Rows affected: 9
2024-11-23T13:36:27.363+03:00  INFO 12136 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-11-23T13:36:27.364+03:00  INFO 12136 --- [main] liquibase.command                        : Command execution complete
2024-11-23T13:36:27.971+03:00  INFO 12136 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2024-11-23T13:36:27.972+03:00  INFO 12136 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-11-23T13:36:27.974+03:00  INFO 12136 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-11-23T13:36:28.183+03:00  INFO 12136 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 56557 (http) with context path '/'
2024-11-23T13:36:28.197+03:00  INFO 12136 --- [main] c.s.o.controller.OrderControllerTest     : Started OrderControllerTest in 4.286 seconds (process running for 5.811)
2024-11-23T13:36:28.202+03:00  INFO 12136 --- [main] f.a.AutowiredAnnotationBeanPostProcessor : Autowired annotation is not supported on static fields: public static java.lang.String com.suhareva.order_service.controller.OrderControllerTest.portMock
2024-11-23T13:36:29.906+03:00  INFO 12136 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-11-23T13:36:29.908+03:00  INFO 12136 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-11-23T13:36:38.283+03:00  INFO 1432 --- [main] c.s.o.controller.OrderControllerTest     : Starting OrderControllerTest using Java 17.0.13 with PID 1432 (started by ksuhareva in E:\TEST-TASK\order-sevice\order-sevice)
2024-11-23T13:36:38.284+03:00  INFO 1432 --- [main] c.s.o.controller.OrderControllerTest     : The following 1 profile is active: "test"
2024-11-23T13:36:39.732+03:00  INFO 1432 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2024-11-23T13:36:39.744+03:00  INFO 1432 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-11-23T13:36:39.745+03:00  INFO 1432 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-11-23T13:36:39.824+03:00  INFO 1432 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-11-23T13:36:39.824+03:00  INFO 1432 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1527 ms
2024-11-23T13:36:39.861+03:00  INFO 1432 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-11-23T13:36:40.048+03:00  INFO 1432 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2024-11-23T13:36:40.050+03:00  INFO 1432 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-11-23T13:36:40.062+03:00  INFO 1432 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2024-11-23T13:36:40.484+03:00  INFO 1432 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-11-23T13:36:40.993+03:00  INFO 1432 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-11-23T13:36:41.101+03:00  INFO 1432 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-11-23T13:36:41.181+03:00  INFO 1432 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-11-23T13:36:41.182+03:00  INFO 1432 --- [main] liquibase.command                        : Using deploymentId: 2358201182
2024-11-23T13:36:41.184+03:00  INFO 1432 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-11-23T13:36:41.221+03:00  INFO 1432 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/create_order_table.xml::Create table orders::suhareva
2024-11-23T13:36:41.237+03:00  INFO 1432 --- [main] liquibase.changelog                      : Table ORDERS created
2024-11-23T13:36:41.238+03:00  INFO 1432 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create_order_table.xml::Create table orders::suhareva ran successfully in 15ms
2024-11-23T13:36:41.245+03:00  INFO 1432 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/create_product_table.xml::Create table products::suhareva
2024-11-23T13:36:41.249+03:00  INFO 1432 --- [main] liquibase.changelog                      : Table PRODUCTS created
2024-11-23T13:36:41.249+03:00  INFO 1432 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create_product_table.xml::Create table products::suhareva ran successfully in 3ms
2024-11-23T13:36:41.256+03:00  INFO 1432 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/insert_into_order.xml::insert orders into orders table::suhareva
2024-11-23T13:36:41.258+03:00  INFO 1432 --- [main] liquibase.changelog                      : New row inserted into ORDERS
2024-11-23T13:36:41.262+03:00  INFO 1432 --- [main] liquibase.changelog                      : New row inserted into ORDERS
2024-11-23T13:36:41.262+03:00  INFO 1432 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert_into_order.xml::insert orders into orders table::suhareva ran successfully in 6ms
2024-11-23T13:36:41.268+03:00  INFO 1432 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/insert_into_product.xml::insert products into products table::suhareva
2024-11-23T13:36:41.270+03:00  INFO 1432 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T13:36:41.271+03:00  INFO 1432 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T13:36:41.273+03:00  INFO 1432 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T13:36:41.273+03:00  INFO 1432 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert_into_product.xml::insert products into products table::suhareva ran successfully in 5ms
2024-11-23T13:36:41.283+03:00  INFO 1432 --- [main] liquibase.util                           : UPDATE SUMMARY
2024-11-23T13:36:41.283+03:00  INFO 1432 --- [main] liquibase.util                           : Run:                          4
2024-11-23T13:36:41.283+03:00  INFO 1432 --- [main] liquibase.util                           : Previously run:               0
2024-11-23T13:36:41.284+03:00  INFO 1432 --- [main] liquibase.util                           : Filtered out:                 0
2024-11-23T13:36:41.284+03:00  INFO 1432 --- [main] liquibase.util                           : -------------------------------
2024-11-23T13:36:41.284+03:00  INFO 1432 --- [main] liquibase.util                           : Total change sets:            4
2024-11-23T13:36:41.286+03:00  INFO 1432 --- [main] liquibase.util                           : Update summary generated
2024-11-23T13:36:41.290+03:00  INFO 1432 --- [main] liquibase.command                        : Update command completed successfully.
2024-11-23T13:36:41.291+03:00  INFO 1432 --- [main] liquibase.ui                             : Liquibase: Update has been successful. Rows affected: 9
2024-11-23T13:36:41.292+03:00  INFO 1432 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-11-23T13:36:41.293+03:00  INFO 1432 --- [main] liquibase.command                        : Command execution complete
2024-11-23T13:36:41.915+03:00  INFO 1432 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2024-11-23T13:36:41.916+03:00  INFO 1432 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-11-23T13:36:41.917+03:00  INFO 1432 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-11-23T13:36:42.125+03:00  INFO 1432 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 56572 (http) with context path '/'
2024-11-23T13:36:42.137+03:00  INFO 1432 --- [main] c.s.o.controller.OrderControllerTest     : Started OrderControllerTest in 4.322 seconds (process running for 5.62)
2024-11-23T13:36:42.142+03:00  INFO 1432 --- [main] f.a.AutowiredAnnotationBeanPostProcessor : Autowired annotation is not supported on static fields: public static int com.suhareva.order_service.controller.OrderControllerTest.portMock
2024-11-23T13:36:43.809+03:00 ERROR 1432 --- [main] c.s.o.h.OrderServiceExceptionHandler     : Catch RetryExhaustedException with cause:[reactor.core.Exceptions.retryExhausted(Exceptions.java:308), reactor.util.retry.RetryBackoffSpec.lambda$static$0(RetryBackoffSpec.java:68), reactor.util.retry.RetryBackoffSpec.lambda$null$4(RetryBackoffSpec.java:560), reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:183), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107), reactor.core.publisher.SinkManyEmitterProcessor.drain(SinkManyEmitterProcessor.java:476), reactor.core.publisher.SinkManyEmitterProcessor.tryEmitNext(SinkManyEmitterProcessor.java:273), reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:100), reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27), reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:194), reactor.core.publisher.MonoFlatMap$FlatMapMain.onError(MonoFlatMap.java:180), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121), reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onError(FluxDoFinally.java:119), reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258), reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onError(FluxPeekFuseable.java:903), reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onError(Operators.java:2236), reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:544), reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222), reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134), reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106), reactor.core.publisher.Operators.error(Operators.java:198), reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:56), reactor.core.publisher.Mono.subscribe(Mono.java:4576), reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103), reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222), reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222), reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222), reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93), reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:205), reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124), reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:229), reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:279), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121), reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.maybeOnError(FluxConcatMapNoPrefetch.java:327), reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:212), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107), reactor.core.publisher.SinkManyEmitterProcessor.drain(SinkManyEmitterProcessor.java:476), reactor.core.publisher.SinkManyEmitterProcessor$EmitterInner.drainParent(SinkManyEmitterProcessor.java:620), reactor.core.publisher.FluxPublish$PubSubInner.request(FluxPublish.java:874), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136), reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:337), reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136), reactor.core.publisher.Operators$DeferredSubscription.request(Operators.java:1743), reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:196), reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205), reactor.netty.http.client.HttpClientConnect$MonoHttpConnect$ClientTransportSubscriber.onError(HttpClientConnect.java:311), reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205), reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onError(DefaultPooledConnectionProvider.java:172), reactor.netty.internal.shaded.reactor.pool.AbstractPool$Borrower.fail(AbstractPool.java:480), reactor.netty.internal.shaded.reactor.pool.SimpleDequePool.lambda$drainLoop$9(SimpleDequePool.java:436), reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onError(FluxDoOnEach.java:186), reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:205), reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer.onError(DefaultPooledConnectionProvider.java:583), reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241), reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:315), reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106), reactor.core.publisher.Operators.error(Operators.java:198), reactor.core.publisher.MonoError.subscribe(MonoError.java:53), reactor.core.publisher.Mono.subscribe(Mono.java:4576), reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103), reactor.netty.transport.TransportConnector$MonoChannelPromise.tryFailure(TransportConnector.java:576), reactor.netty.transport.TransportConnector$MonoChannelPromise.setFailure(TransportConnector.java:522), reactor.netty.transport.TransportConnector.lambda$doConnect$7(TransportConnector.java:261), io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590), io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:583), io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:559), io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492), io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636), io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:629), io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:118), io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.fulfillConnectPromise(AbstractNioChannel.java:326), io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:342), io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776), io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724), io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650), io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562), io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997), io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74), io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30), java.base/java.lang.Thread.run(Thread.java:840)] 
2024-11-23T13:36:43.857+03:00  WARN 1432 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Failure in @ExceptionHandler com.suhareva.order_service.handler.OrderServiceExceptionHandler#catchException(Exception)

org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.springframework.http.HttpMethod]
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:489) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:114) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:297) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:432) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:74) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:175) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1358) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.TestDispatcherServlet.processHandlerException(TestDispatcherServlet.java:146) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1161) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.31.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72) ~[spring-test-6.1.14.jar:6.1.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.31.jar:6.0]
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132) ~[spring-test-6.1.14.jar:6.1.14]
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201) ~[spring-test-6.1.14.jar:6.1.14]
	at com.suhareva.order_service.controller.OrderControllerTest.saveOrderShouldOrderNumber(OrderControllerTest.java:72) ~[test-classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728) ~[junit-platform-commons-1.10.5.jar:1.10.5]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.10.5.jar:5.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63) ~[junit-platform-launcher-1.10.5.jar:1.10.5]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57) ~[junit5-rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) ~[idea_rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) ~[junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235) ~[junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54) ~[junit-rt.jar:na]
Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.springframework.http.HttpMethod and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.suhareva.order_service.handler.ErrorMessage["errorCause"]->org.springframework.web.reactive.function.client.WebClientRequestException["method"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1330) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:414) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:53) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:30) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:183) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:183) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:502) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:341) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1574) ~[jackson-databind-2.17.2.jar:2.17.2]
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061) ~[jackson-databind-2.17.2.jar:2.17.2]
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:483) ~[spring-web-6.1.14.jar:6.1.14]
	... 106 common frames omitted

2024-11-23T13:36:43.971+03:00  INFO 1432 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-11-23T13:36:43.974+03:00  INFO 1432 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-11-23T13:42:46.330+03:00  INFO 23156 --- [main] c.s.o.controller.OrderControllerTest     : Starting OrderControllerTest using Java 17.0.13 with PID 23156 (started by ksuhareva in E:\TEST-TASK\order-sevice\order-sevice)
2024-11-23T13:42:46.332+03:00  INFO 23156 --- [main] c.s.o.controller.OrderControllerTest     : The following 1 profile is active: "test"
2024-11-23T13:42:47.780+03:00  INFO 23156 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2024-11-23T13:42:47.793+03:00  INFO 23156 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-11-23T13:42:47.794+03:00  INFO 23156 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-11-23T13:42:47.884+03:00  INFO 23156 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-11-23T13:42:47.885+03:00  INFO 23156 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1536 ms
2024-11-23T13:42:47.930+03:00  INFO 23156 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-11-23T13:42:48.125+03:00  INFO 23156 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2024-11-23T13:42:48.127+03:00  INFO 23156 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-11-23T13:42:48.138+03:00  INFO 23156 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2024-11-23T13:42:48.556+03:00  INFO 23156 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-11-23T13:42:49.065+03:00  INFO 23156 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-11-23T13:42:49.168+03:00  INFO 23156 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-11-23T13:42:49.241+03:00  INFO 23156 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-11-23T13:42:49.243+03:00  INFO 23156 --- [main] liquibase.command                        : Using deploymentId: 2358569242
2024-11-23T13:42:49.245+03:00  INFO 23156 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-11-23T13:42:49.281+03:00  INFO 23156 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/create_order_table.xml::Create table orders::suhareva
2024-11-23T13:42:49.294+03:00  INFO 23156 --- [main] liquibase.changelog                      : Table ORDERS created
2024-11-23T13:42:49.295+03:00  INFO 23156 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create_order_table.xml::Create table orders::suhareva ran successfully in 12ms
2024-11-23T13:42:49.303+03:00  INFO 23156 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/create_product_table.xml::Create table products::suhareva
2024-11-23T13:42:49.305+03:00  INFO 23156 --- [main] liquibase.changelog                      : Table PRODUCTS created
2024-11-23T13:42:49.306+03:00  INFO 23156 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/create_product_table.xml::Create table products::suhareva ran successfully in 3ms
2024-11-23T13:42:49.311+03:00  INFO 23156 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/insert_into_order.xml::insert orders into orders table::suhareva
2024-11-23T13:42:49.313+03:00  INFO 23156 --- [main] liquibase.changelog                      : New row inserted into ORDERS
2024-11-23T13:42:49.316+03:00  INFO 23156 --- [main] liquibase.changelog                      : New row inserted into ORDERS
2024-11-23T13:42:49.316+03:00  INFO 23156 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert_into_order.xml::insert orders into orders table::suhareva ran successfully in 4ms
2024-11-23T13:42:49.323+03:00  INFO 23156 --- [main] liquibase.ui                             : Running Changeset: db/changelog/changeset/insert_into_product.xml::insert products into products table::suhareva
2024-11-23T13:42:49.325+03:00  INFO 23156 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T13:42:49.327+03:00  INFO 23156 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T13:42:49.329+03:00  INFO 23156 --- [main] liquibase.changelog                      : New row inserted into PRODUCTS
2024-11-23T13:42:49.329+03:00  INFO 23156 --- [main] liquibase.changelog                      : ChangeSet db/changelog/changeset/insert_into_product.xml::insert products into products table::suhareva ran successfully in 6ms
2024-11-23T13:42:49.337+03:00  INFO 23156 --- [main] liquibase.util                           : UPDATE SUMMARY
2024-11-23T13:42:49.338+03:00  INFO 23156 --- [main] liquibase.util                           : Run:                          4
2024-11-23T13:42:49.338+03:00  INFO 23156 --- [main] liquibase.util                           : Previously run:               0
2024-11-23T13:42:49.338+03:00  INFO 23156 --- [main] liquibase.util                           : Filtered out:                 0
2024-11-23T13:42:49.338+03:00  INFO 23156 --- [main] liquibase.util                           : -------------------------------
2024-11-23T13:42:49.338+03:00  INFO 23156 --- [main] liquibase.util                           : Total change sets:            4
2024-11-23T13:42:49.340+03:00  INFO 23156 --- [main] liquibase.util                           : Update summary generated
2024-11-23T13:42:49.343+03:00  INFO 23156 --- [main] liquibase.command                        : Update command completed successfully.
2024-11-23T13:42:49.344+03:00  INFO 23156 --- [main] liquibase.ui                             : Liquibase: Update has been successful. Rows affected: 9
2024-11-23T13:42:49.345+03:00  INFO 23156 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-11-23T13:42:49.347+03:00  INFO 23156 --- [main] liquibase.command                        : Command execution complete
2024-11-23T13:42:49.956+03:00  INFO 23156 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2024-11-23T13:42:49.956+03:00  INFO 23156 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-11-23T13:42:49.957+03:00  INFO 23156 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-11-23T13:42:50.168+03:00  INFO 23156 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 57599 (http) with context path '/'
2024-11-23T13:42:50.179+03:00  INFO 23156 --- [main] c.s.o.controller.OrderControllerTest     : Started OrderControllerTest in 4.279 seconds (process running for 5.543)
2024-11-23T13:42:51.751+03:00  INFO 23156 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-11-23T13:42:51.755+03:00  INFO 23156 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
